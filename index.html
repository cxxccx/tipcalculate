<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="ä¸“ä¸ºä¸­å›½æ¸¸å®¢è®¾è®¡çš„ç¾å›½å°è´¹è®¡ç®—å™¨ï¼Œå®æ—¶æ±‡ç‡æ¢ç®—ï¼Œåœºæ™¯æŒ‡å—ï¼Œé¿å‘å¤§å…¨ï¼Œå¸®ä½ è½»æ¾æå®šç¾å›½å°è´¹ã€‚">
    <meta name="keywords" content="ç¾å›½å°è´¹,å°è´¹è®¡ç®—å™¨,ç¾å›½æ—…æ¸¸,å°è´¹æŒ‡å—,çº½çº¦å°è´¹,é¤å…å°è´¹,é…’åº—å°è´¹">
    <meta name="author" content="å°è´¹åŠ©æ‰‹">
    <meta name="robots" content="index, follow">
    <meta property="og:title" content="å°è´¹è®¡ç®—å™¨ - ç¾å›½æ—…æ¸¸å°è´¹åŠ©æ‰‹">
    <meta property="og:description" content="ä¸“ä¸ºä¸­å›½æ¸¸å®¢è®¾è®¡çš„ç¾å›½å°è´¹è®¡ç®—å™¨ï¼Œå®æ—¶æ±‡ç‡æ¢ç®—ï¼Œåœºæ™¯æŒ‡å—ï¼Œé¿å‘å¤§å…¨ã€‚">
    <meta property="og:type" content="website">
    <link rel="canonical" href="">
    <title>å°è´¹è®¡ç®—å™¨ - ç¾å›½æ—…æ¸¸å°è´¹åŠ©æ‰‹</title>
    
    <!-- ç»“æ„åŒ–æ•°æ® -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "å°è´¹è®¡ç®—å™¨",
        "description": "ä¸“ä¸ºä¸­å›½æ¸¸å®¢è®¾è®¡çš„ç¾å›½å°è´¹è®¡ç®—å™¨",
        "applicationCategory": "UtilityApplication",
        "operatingSystem": "Web Browser",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        },
        "featureList": ["å®æ—¶æ±‡ç‡æ¢ç®—", "å¤šå¸ç§æ”¯æŒ", "åœºæ™¯æŒ‡å—", "é¿å‘å¤§å…¨"]
    }
    </script>
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        :root {
            --primary: #4A90E2;
            --primary-dark: #357ABD;
            --warning: #F5A623;
            --danger: #E74C3C;
            --success: #27AE60;
            --text: #333;
            --text-light: #666;
            --text-muted: #999;
            --bg: #F5F7FA;
            --card: #FFFFFF;
            --border: #E8ECF0;
            --shadow: 0 2px 12px rgba(0,0,0,0.08);
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
            background: var(--bg);
            color: var(--text);
            min-height: 100vh;
            padding-bottom: 80px;
        }
        
        .app { max-width: 480px; margin: 0 auto; }
        
        /* å¤´éƒ¨ */
        .header {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            padding: 16px 16px 24px;
            text-align: center;
            position: relative;
        }
        .header h1 { font-size: 24px; font-weight: 600; margin-bottom: 4px; }
        .header .subtitle { font-size: 13px; opacity: 0.9; }
        .lang-switch {
            display: flex;
            justify-content: center;
            gap: 6px;
            margin-bottom: 8px;
        }
        .lang-btn {
            padding: 4px 8px;
            font-size: 10px;
            border: 1px solid rgba(255,255,255,0.5);
            border-radius: 12px;
            background: transparent;
            color: white;
            cursor: pointer;
        }
        .lang-btn.active { background: white; color: var(--primary); }
        
        /* é¡µé¢å®¹å™¨ */
        .page-container { padding: 12px 12px 0; }
        .page { display: none; }
        .page.active { display: block; }
        
        /* å¡ç‰‡ */
        .card {
            background: var(--card);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 12px;
            box-shadow: var(--shadow);
        }
        .card-title {
            font-size: 15px;
            font-weight: 600;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .card-title .badge {
            font-size: 11px;
            background: var(--primary);
            color: white;
            padding: 2px 8px;
            border-radius: 10px;
        }
        
        /* è¾“å…¥ç»„ */
        .input-group { margin-bottom: 16px; }
        .input-label { display: block; font-size: 13px; color: var(--text-light); margin-bottom: 8px; }
        .input-wrap {
            position: relative;
            display: flex;
            align-items: center;
        }
        .input-prefix {
            position: absolute;
            left: 14px;
            font-size: 20px;
            font-weight: 600;
            color: var(--primary);
        }
        .input-suffix {
            position: absolute;
            right: 14px;
            font-size: 13px;
            color: var(--text-muted);
        }
        .input-field {
            width: 100%;
            padding: 14px 50px 14px 36px;
            font-size: 22px;
            font-weight: 600;
            border: 2px solid var(--border);
            border-radius: 12px;
            outline: none;
            transition: border-color 0.2s;
        }
        .input-field:focus { border-color: var(--primary); }
        .input-field.sm { font-size: 16px; padding: 10px 14px; }
        
        /* ç™¾åˆ†æ¯”æŒ‰é’® */
        .percent-btns { display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; margin-bottom: 12px; }
        .percent-btn {
            padding: 12px 6px;
            font-size: 15px;
            font-weight: 600;
            border: 2px solid var(--border);
            border-radius: 10px;
            background: var(--card);
            cursor: pointer;
            transition: all 0.2s;
        }
        .percent-btn:hover { border-color: var(--primary); }
        .percent-btn.active { background: var(--primary); border-color: var(--primary); color: white; }
        
        /* è‡ªå®šä¹‰ç™¾åˆ†æ¯” */
        .custom-row { display: flex; align-items: center; gap: 8px; }
        .custom-row label { font-size: 13px; color: var(--text-light); white-space: nowrap; }
        .custom-row input {
            width: 80px;
            padding: 8px 10px;
            font-size: 15px;
            border: 2px solid var(--border);
            border-radius: 8px;
            outline: none;
        }
        .custom-row input:focus { border-color: var(--primary); }
        
        /* ç»“æœåŒºåŸŸ */
        .result-card {
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 16px;
            padding: 20px;
            color: white;
            margin-bottom: 12px;
        }
        .result-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid rgba(255,255,255,0.15);
        }
        .result-row:last-child { border-bottom: none; }
        .result-label { font-size: 13px; opacity: 0.9; }
        .result-val { text-align: right; }
        .result-usd { font-size: 22px; font-weight: 700; }
        .result-cny { font-size: 12px; opacity: 0.75; margin-top: 2px; }
        .result-total { background: rgba(255,255,255,0.12); margin: 16px -20px -20px; padding: 16px 20px; border-radius: 0 0 16px 16px; }
        .result-total .result-usd { font-size: 28px; }
        
        /* åˆ†æ‘Š */
        .split-row { display: flex; align-items: center; gap: 12px; }
        .split-input { display: flex; align-items: center; gap: 6px; }
        .split-input label { font-size: 13px; color: var(--text-light); }
        .split-input input {
            width: 60px;
            padding: 8px 10px;
            font-size: 15px;
            font-weight: 600;
            border: 2px solid var(--border);
            border-radius: 8px;
            text-align: center;
            outline: none;
        }
        .split-result { flex: 1; text-align: right; }
        .split-result .label { font-size: 11px; color: var(--text-muted); }
        .split-result .amount { font-size: 18px; font-weight: 700; color: var(--primary); }
        .split-result .cny { font-size: 11px; color: var(--text-muted); }
        
        /* æ±‡ç‡è¯´æ˜ */
        .rate-note {
            text-align: center;
            font-size: 11px;
            color: var(--text-muted);
            padding: 10px;
            background: rgba(0,0,0,0.03);
            border-radius: 8px;
            margin-top: 12px;
        }
        
        /* æ±‡ç‡è®¾ç½® */
        .rate-setting {
            background: var(--bg);
            border-radius: 10px;
            padding: 12px;
            margin-top: 10px;
        }
        .rate-setting-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            font-size: 12px;
            color: var(--text-muted);
        }
        .rate-setting-header .arrow { transition: transform 0.2s; }
        .rate-setting.open .rate-setting-header .arrow { transform: rotate(180deg); }
        .rate-setting-body {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }
        .rate-setting.open .rate-setting-body { max-height: 200px; }
        .rate-inputs {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
            margin-top: 10px;
        }
        .rate-input-group {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }
        .rate-input-group label {
            font-size: 10px;
            color: var(--text-muted);
            text-align: center;
        }
        .rate-input-group input {
            width: 100%;
            padding: 6px 8px;
            border: 1px solid var(--border);
            border-radius: 6px;
            font-size: 13px;
            text-align: center;
        }
        .rate-input-group input:focus {
            outline: none;
            border-color: var(--primary);
        }
        .rate-refresh-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px solid var(--border);
        }
        .rate-time {
            font-size: 10px;
            color: var(--text-muted);
        }
        .rate-refresh-btn {
            padding: 6px 12px;
            font-size: 11px;
            border: 1px solid var(--primary);
            border-radius: 6px;
            background: white;
            color: var(--primary);
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 4px;
        }
        .rate-refresh-btn:hover { background: var(--primary); color: white; }
        .rate-refresh-btn:disabled { opacity: 0.5; cursor: not-allowed; }
        .rate-refresh-btn.loading .icon { animation: spin 1s linear infinite; }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        
        /* è­¦å‘Šæ¨ªå¹… */
        .warning-banner {
            background: linear-gradient(135deg, #FFF3CD, #FFE8A1);
            border: 1px solid #F5C518;
            border-radius: 12px;
            padding: 12px 14px;
            margin-bottom: 12px;
            display: flex;
            gap: 10px;
            align-items: flex-start;
        }
        .warning-banner .icon { font-size: 18px; }
        .warning-banner .text { font-size: 12px; color: #856404; line-height: 1.6; }
        
        /* åº•éƒ¨å¯¼èˆª */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--card);
            border-top: 1px solid var(--border);
            display: flex;
            justify-content: center;
            padding: 8px 0 max(8px, env(safe-area-inset-bottom));
            z-index: 100;
        }
        .nav-inner { display: flex; gap: 4px; max-width: 480px; width: 100%; padding: 0 8px; }
        .nav-item {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 2px;
            padding: 8px 4px;
            border: none;
            background: transparent;
            cursor: pointer;
            border-radius: 10px;
            transition: all 0.2s;
        }
        .nav-item:hover { background: var(--bg); }
        .nav-item.active { background: rgba(74,144,226,0.1); }
        .nav-item .icon { font-size: 20px; }
        .nav-item .label { font-size: 10px; color: var(--text-muted); }
        .nav-item.active .label { color: var(--primary); font-weight: 600; }
        
        /* å¹¿å‘Šä½ */
        .ad-box {
            background: #E9ECEF;
            border: 2px dashed var(--border);
            border-radius: 12px;
            padding: 30px 16px;
            text-align: center;
            color: var(--text-muted);
            font-size: 13px;
            margin-top: 16px;
        }
        
        /* åœºæ™¯å¡ç‰‡ */
        .scene-list { display: flex; flex-direction: column; gap: 10px; }
        .scene-item {
            display: flex;
            gap: 12px;
            padding: 14px;
            background: var(--bg);
            border-radius: 12px;
        }
        .scene-icon {
            width: 44px;
            height: 44px;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 22px;
            flex-shrink: 0;
        }
        .scene-info { flex: 1; }
        .scene-info h4 { font-size: 14px; margin-bottom: 4px; }
        .scene-tip { font-size: 16px; font-weight: 700; color: var(--primary); margin-bottom: 2px; }
        .scene-desc { font-size: 12px; color: var(--text-light); line-height: 1.5; }
        
        /* å¿ƒç®—æ³•å¡ç‰‡ */
        .calc-tips {
            background: linear-gradient(135deg, #11998e, #38ef7d);
            color: white;
            border-radius: 12px;
            padding: 16px;
            margin-top: 16px;
        }
        .calc-tips h4 { font-size: 14px; margin-bottom: 12px; display: flex; align-items: center; gap: 6px; }
        .calc-tips ul { list-style: none; }
        .calc-tips li { font-size: 13px; padding: 6px 0; border-bottom: 1px solid rgba(255,255,255,0.2); }
        .calc-tips li:last-child { border-bottom: none; }
        .calc-tips code { background: rgba(255,255,255,0.2); padding: 2px 6px; border-radius: 4px; }
        
        /* é¿å‘å¡ç‰‡ */
        .trap-item {
            border: 1px solid var(--border);
            border-radius: 12px;
            margin-bottom: 10px;
            overflow: hidden;
        }
        .trap-header {
            width: 100%;
            padding: 14px 16px;
            font-size: 14px;
            font-weight: 600;
            text-align: left;
            border: none;
            background: var(--card);
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background 0.2s;
        }
        .trap-header:hover { background: var(--bg); }
        .trap-header .title { display: flex; align-items: center; gap: 8px; }
        .trap-header .arrow { transition: transform 0.2s; color: var(--text-muted); }
        .trap-item.open .trap-header .arrow { transform: rotate(180deg); }
        .trap-body {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease, padding 0.3s ease;
        }
        .trap-item.open .trap-body { max-height: 600px; }
        .trap-content {
            padding: 0 16px 16px;
            font-size: 13px;
            color: var(--text-light);
            line-height: 1.7;
        }
        .trap-content strong { color: var(--danger); }
        .trap-content .tip-box {
            background: #E8F5E9;
            border-left: 3px solid var(--success);
            padding: 10px 12px;
            margin-top: 10px;
            border-radius: 0 8px 8px 0;
            font-size: 12px;
        }
        .trap-content .tip-box h5 { color: var(--success); margin-bottom: 6px; font-size: 12px; }
        
        /* FAQ */
        .faq-item {
            border: 1px solid var(--border);
            border-radius: 12px;
            margin-bottom: 10px;
            overflow: hidden;
        }
        .faq-q {
            width: 100%;
            padding: 14px 16px;
            font-size: 14px;
            font-weight: 600;
            text-align: left;
            border: none;
            background: var(--card);
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .faq-q:hover { background: var(--bg); }
        .faq-q .arrow { transition: transform 0.2s; color: var(--text-muted); }
        .faq-item.open .faq-q .arrow { transform: rotate(180deg); }
        .faq-a {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }
        .faq-item.open .faq-a { max-height: 500px; }
        .faq-a-inner { padding: 0 16px 16px; font-size: 13px; color: var(--text-light); line-height: 1.7; }
        .faq-a-inner .highlight { background: #FFF9C4; padding: 10px 12px; border-radius: 8px; margin-top: 10px; }
        
        /* å®ç”¨æŠ€å·§å¡ç‰‡ */
        .tips-card {
            background: linear-gradient(135deg, #FC466B, #3F5EFB);
            color: white;
            border-radius: 12px;
            padding: 16px;
            margin-top: 16px;
        }
        .tips-card h4 { font-size: 14px; margin-bottom: 12px; }
        .tips-card .tip-row {
            display: flex;
            gap: 10px;
            padding: 10px 0;
            border-bottom: 1px solid rgba(255,255,255,0.15);
            font-size: 13px;
        }
        .tips-card .tip-row:last-child { border-bottom: none; }
        .tips-card .tip-icon { font-size: 18px; }
        .tips-card .tip-text { flex: 1; line-height: 1.5; }
        
        /* é¡µé¢æ ‡é¢˜ */
        .page-title {
            font-size: 18px;
            font-weight: 600;
            padding: 16px 0 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        @media (max-width: 360px) {
            .percent-btns { grid-template-columns: repeat(2, 1fr); }
            .result-usd { font-size: 18px; }
            .result-total .result-usd { font-size: 24px; }
        }
        
        /* é¡µè„šæ ·å¼ */
        .page-footer {
            background: var(--card);
            border-top: 1px solid var(--border);
            padding: 20px 16px;
            text-align: center;
            margin-top: 16px;
        }
        .footer-links {
            margin-bottom: 10px;
        }
        .footer-links a {
            color: var(--primary);
            text-decoration: none;
            font-size: 13px;
            padding: 4px 8px;
        }
        .footer-links a:hover {
            text-decoration: underline;
        }
        .footer-links .divider {
            color: var(--text-muted);
            margin: 0 4px;
        }
        .copyright {
            font-size: 11px;
            color: var(--text-muted);
        }
        
        /* è¿”å›é¡¶éƒ¨æŒ‰é’® */
        .back-to-top {
            position: fixed;
            bottom: 80px;
            right: 16px;
            width: 44px;
            height: 44px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 50%;
            font-size: 20px;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(74,144,226,0.4);
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s, visibility 0.3s, transform 0.3s;
            z-index: 999;
        }
        .back-to-top.show {
            opacity: 1;
            visibility: visible;
        }
        .back-to-top:hover {
            transform: scale(1.1);
        }
    </style>
</head>
<body>
    <div class="app">
        <!-- å¤´éƒ¨ -->
        <header class="header">
            <div class="lang-switch">
                <button class="lang-btn active" onclick="setLang('zh')">ä¸­æ–‡</button>
                <button class="lang-btn" onclick="setLang('en')">EN</button>
                <button class="lang-btn" onclick="setLang('ja')">æ—¥æœ¬èª</button>
                <button class="lang-btn" onclick="setLang('ko')">í•œêµ­ì–´</button>
            </div>
            <h1 data-i18n="title">å°è´¹è®¡ç®—å™¨</h1>
            <p class="subtitle" data-i18n="subtitle">ç¾å›½æ—…æ¸¸å°è´¹åŠ©æ‰‹</p>
        </header>
        
        <div class="page-container">
            <!-- ========== é¦–é¡µï¼šè®¡ç®—å™¨ ========== -->
            <div class="page active" id="page-calc">
                <!-- é¿å‘æé†’ -->
                <div class="warning-banner">
                    <span class="icon">âš ï¸</span>
                    <span class="text" data-i18n="warning">ç¾å›½å¾ˆå¤šé¤å…å·²å¼ºåˆ¶æ”¶18-20%æœåŠ¡è´¹ï¼Œç»“è´¦å‰è¯·ä»”ç»†æŸ¥çœ‹è´¦å•ï¼Œé¿å…é‡å¤ç»™å°è´¹ï¼</span>
                </div>
                
                <!-- è®¡ç®—å™¨ -->
                <div class="card">
                    <div class="input-group">
                        <label class="input-label" data-i18n="billAmount">è´¦å•é‡‘é¢</label>
                        <div class="input-wrap">
                            <span class="input-prefix">$</span>
                            <input type="text" class="input-field" id="billAmount" inputmode="decimal" placeholder="0.00" oninput="onAmountInput(this)">
                            <span class="input-suffix">USD</span>
                        </div>
                    </div>
                    
                    <div class="input-group">
                        <label class="input-label" data-i18n="tipPercent">é€‰æ‹©å°è´¹æ¯”ä¾‹</label>
                        <div class="percent-btns">
                            <button class="percent-btn" data-pct="15" onclick="setPct(15)">15%</button>
                            <button class="percent-btn active" data-pct="18" onclick="setPct(18)">18%</button>
                            <button class="percent-btn" data-pct="20" onclick="setPct(20)">20%</button>
                            <button class="percent-btn" data-pct="25" onclick="setPct(25)">25%</button>
                        </div>
                        <div class="custom-row">
                            <label data-i18n="custom">è‡ªå®šä¹‰:</label>
                            <input type="text" id="customPct" inputmode="numeric" placeholder="18" oninput="onCustomPct(this)">
                            <span>%</span>
                        </div>
                    </div>
                </div>
                
                <!-- ç»“æœ -->
                <div class="result-card">
                    <div class="result-row">
                        <span class="result-label" data-i18n="tipAmount">å°è´¹é‡‘é¢</span>
                        <div class="result-val">
                            <div class="result-usd">$<span id="tipAmt">0.00</span></div>
                            <div class="result-cny">â‰ˆ <span id="tipCurrSymbol">Â¥</span><span id="tipCurr">0.00</span> <span id="tipCurrLabel">CNY</span></div>
                        </div>
                    </div>
                    <div class="result-row result-total">
                        <span class="result-label" data-i18n="totalAmount">æ€»é‡‘é¢</span>
                        <div class="result-val">
                            <div class="result-usd">$<span id="totalAmt">0.00</span></div>
                            <div class="result-cny">â‰ˆ <span id="totalCurrSymbol">Â¥</span><span id="totalCurr">0.00</span> <span id="totalCurrLabel">CNY</span></div>
                        </div>
                    </div>
                </div>
                
                <!-- åˆ†æ‘Š -->
                <div class="card">
                    <div class="split-row">
                        <div class="split-input">
                            <label data-i18n="splitBy">äººæ•°åˆ†æ‘Š:</label>
                            <input type="text" id="splitNum" inputmode="numeric" value="1" oninput="onSplitInput(this)" onfocus="this.select()">
                            <span data-i18n="people">äºº</span>
                        </div>
                        <div class="split-result">
                            <div class="label" data-i18n="perPerson">æ¯äººåº”ä»˜</div>
                            <div class="amount">$<span id="perAmt">0.00</span></div>
                            <div class="cny">â‰ˆ <span id="perCurrSymbol">Â¥</span><span id="perCurr">0.00</span> <span id="perCurrLabel">CNY</span></div>
                        </div>
                    </div>
                </div>
                
                <div class="rate-note">
                    <span id="rateTime" data-i18n="rateLoading">ğŸ’± åŠ è½½ä¸­...</span>
                    <button class="rate-refresh-btn" id="rateRefreshBtn" onclick="fetchRates(0, true);">
                        <span class="icon">ğŸ”„</span>
                        <span data-i18n="rateRefresh">åˆ·æ–°æ±‡ç‡</span>
                    </button>
                </div>
                
                <!-- æ±‡ç‡è®¾ç½® -->
                <div class="rate-setting" id="rateSetting" onclick="toggleRateSetting(event)">
                    <div class="rate-setting-header">
                        <span>âš™ï¸ <span data-i18n="rateCustom">è‡ªå®šä¹‰æ±‡ç‡</span></span>
                        <span class="arrow">â–¼</span>
                    </div>
                    <div class="rate-setting-body">
                        <div class="rate-inputs">
                            <div class="rate-input-group">
                                <label>1 USD = ? CNY</label>
                                <input type="text" id="rateCNY" inputmode="decimal" value="7.25" oninput="onRateInput(this, 'CNY')" onclick="event.stopPropagation()" onfocus="this.select()">
                            </div>
                            <div class="rate-input-group">
                                <label>1 USD = ? JPY</label>
                                <input type="text" id="rateJPY" inputmode="decimal" value="155" oninput="onRateInput(this, 'JPY')" onclick="event.stopPropagation()" onfocus="this.select()">
                            </div>
                            <div class="rate-input-group">
                                <label>1 USD = ? KRW</label>
                                <input type="text" id="rateKRW" inputmode="decimal" value="1380" oninput="onRateInput(this, 'KRW')" onclick="event.stopPropagation()" onfocus="this.select()">
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="ad-box">ğŸ“¢ <span data-i18n="adPlaceholder">å¹¿å‘Šä½é¢„ç•™</span></div>
            </div>
            
            <!-- ========== åœºæ™¯æŒ‡å—é¡µ ========== -->
            <div class="page" id="page-guide">
                <h2 class="page-title">ğŸ“‹ <span data-i18n="guideTitle">åœºæ™¯æŒ‡å—</span> <span class="card-title"><span class="badge">2025</span></span></h2>
                
                <div class="card">
                    <div class="scene-list">
                        <div class="scene-item">
                            <div class="scene-icon">ğŸ½ï¸</div>
                            <div class="scene-info">
                                <h4 data-i18n="s_restaurant">é¤å…å ‚é£Ÿ</h4>
                                <div class="scene-tip">18%-25%</div>
                                <p class="scene-desc" data-i18n="s_restaurant_d">2025å¹´æ–°æ ‡å‡†ï¼š18%æ˜¯åº•çº¿ï¼Œ20%æ­£å¸¸ï¼Œ25%å¤§æ–¹ã€‚æœåŠ¡å‘˜åº•è–ªä»…$2.13/å°æ—¶ã€‚</p>
                            </div>
                        </div>
                        <div class="scene-item">
                            <div class="scene-icon">ğŸ”</div>
                            <div class="scene-info">
                                <h4 data-i18n="s_fastfood">å¿«é¤/è‡ªåŠ©</h4>
                                <div class="scene-tip">0%-10%</div>
                                <p class="scene-desc" data-i18n="s_fastfood_d">éº¦å½“åŠ³ã€Chipotleç­‰è‡ªå–å¯ä¸ç»™ï¼Œæœ‰äº›ä¼šæ”¾å°è´¹ç½ã€‚æœ‰äººå¸®å¿™å¯ç»™10%ã€‚</p>
                            </div>
                        </div>
                        <div class="scene-item">
                            <div class="scene-icon">ğŸ¸</div>
                            <div class="scene-info">
                                <h4 data-i18n="s_bar">é…’å§</h4>
                                <div class="scene-tip">$1-2/æ¯ æˆ– 15%-20%</div>
                                <p class="scene-desc" data-i18n="s_bar_d">æ¯æ¯é…’å•ç‹¬ç»™ï¼Œæˆ–æœ€åæŒ‰æ€»è´¦å•ç»™ã€‚å¤æ‚é¸¡å°¾é…’æŒ‰è´¦å•æ¯”ä¾‹ã€‚</p>
                            </div>
                        </div>
                        <div class="scene-item">
                            <div class="scene-icon">ğŸ¨</div>
                            <div class="scene-info">
                                <h4 data-i18n="s_hotel">é…’åº—æ¸…æ´</h4>
                                <div class="scene-tip">$2-5/å¤©</div>
                                <p class="scene-desc" data-i18n="s_hotel_d">æ¯å¤©æ”¾æ•å¤´ä¸Šï¼Œæœ€å¥½ç•™çº¸æ¡å†™"Tips"æˆ–"For Housekeeping"ã€‚</p>
                            </div>
                        </div>
                        <div class="scene-item">
                            <div class="scene-icon">ğŸ§³</div>
                            <div class="scene-info">
                                <h4 data-i18n="s_bellhop">è¡Œæå‘˜</h4>
                                <div class="scene-tip">$1-2/ä»¶</div>
                                <p class="scene-desc" data-i18n="s_bellhop_d">å¸®å¿™æ‹¿è¡Œæåˆ°æˆ¿é—´æ—¶å½“é¢ç»™ï¼Œè¡Œæé‡æˆ–å¤šå¯å¤šç»™ã€‚</p>
                            </div>
                        </div>
                        <div class="scene-item">
                            <div class="scene-icon">ğŸš•</div>
                            <div class="scene-info">
                                <h4 data-i18n="s_taxi">å‡ºç§Ÿè½¦/Uber</h4>
                                <div class="scene-tip">10%-20%</div>
                                <p class="scene-desc" data-i18n="s_taxi_d">Appé‡Œå¯ç»™ï¼Œä¹Ÿå¯ç°é‡‘ã€‚å¸æœºå¸®æ‹¿è¡Œæå¯å¤šç»™ã€‚</p>
                            </div>
                        </div>
                        <div class="scene-item">
                            <div class="scene-icon">ğŸ±</div>
                            <div class="scene-info">
                                <h4 data-i18n="s_delivery">å¤–å–é…é€</h4>
                                <div class="scene-tip">15%-20% æˆ–è‡³å°‘$5</div>
                                <p class="scene-desc" data-i18n="s_delivery_d">æ¶åŠ£å¤©æ°”ã€è·¯ç¨‹è¿œã€è®¢å•å¤§å»ºè®®å¤šç»™ã€‚</p>
                            </div>
                        </div>
                        <div class="scene-item">
                            <div class="scene-icon">ğŸ’‡</div>
                            <div class="scene-info">
                                <h4 data-i18n="s_salon">ç†å‘/ç¾ç”²</h4>
                                <div class="scene-tip">15%-20%</div>
                                <p class="scene-desc" data-i18n="s_salon_d">åŒ…æ‹¬å‰ªå‘ã€æŸ“å‘ã€ç¾ç”²ç­‰ï¼Œæ»¡æ„ç»™20%ã€‚</p>
                            </div>
                        </div>
                        <div class="scene-item">
                            <div class="scene-icon">ğŸš—</div>
                            <div class="scene-info">
                                <h4 data-i18n="s_valet">ä»£å®¢æ³Šè½¦</h4>
                                <div class="scene-tip">$2-5</div>
                                <p class="scene-desc" data-i18n="s_valet_d">å–è½¦æ—¶ç»™ï¼Œç¹å¿™æ—¶æ®µæˆ–é«˜æ¡£åœºæ‰€å¯ç»™$5ã€‚</p>
                            </div>
                        </div>
                        <div class="scene-item">
                            <div class="scene-icon">ğŸ’</div>
                            <div class="scene-info">
                                <h4 data-i18n="s_tour">å¯¼æ¸¸</h4>
                                <div class="scene-tip">$5-10/å¤©</div>
                                <p class="scene-desc" data-i18n="s_tour_d">è·Ÿå›¢æ¸¸ç»“æŸæ—¶ç»™ï¼ŒåŠæ—¥æ¸¸$5ï¼Œå…¨æ—¥æ¸¸$10ã€‚</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- å¿«é€Ÿå¿ƒç®—æ³• -->
                <div class="calc-tips">
                    <h4>ğŸ’¡ <span data-i18n="quickCalc">å¿«é€Ÿå¿ƒç®—æ³•</span></h4>
                    <ul>
                        <li><strong>10%</strong> = <code data-i18n="calc10">é‡‘é¢ Ã· 10</code></li>
                        <li><strong>15%</strong> = <code data-i18n="calc15">10% + ä¸€åŠçš„10%</code></li>
                        <li><strong>20%</strong> = <code data-i18n="calc20">é‡‘é¢ Ã· 5</code></li>
                    </ul>
                </div>
            </div>
            
            <!-- ========== é¿å‘å¤§å…¨é¡µ ========== -->
            <div class="page" id="page-trap">
                <h2 class="page-title">ğŸ›¡ï¸ <span data-i18n="trapTitle">é¿å‘å¤§å…¨</span></h2>
                
                <!-- é™·é˜±1: iPadç»“è´¦ -->
                <div class="trap-item" onclick="toggleTrap(this, event)">
                    <button class="trap-header">
                        <span class="title">âš ï¸ <span data-i18n="trap1_t">iPadç»“è´¦é™·é˜±</span></span>
                        <span class="arrow">â–¼</span>
                    </button>
                    <div class="trap-body">
                        <div class="trap-content">
                            <p data-i18n="trap1_p1">ç°åœ¨ç¾å›½å¾ˆå¤šé¤å…ç”¨iPadç»“è´¦ï¼Œå±å¹•ä¼šç›´æ¥è·³å‡ºä¸‰ä¸ªé€‰é¡¹ï¼š<strong>18% | 20% | 25%</strong>ï¼ˆæœ‰çš„ç”šè‡³25%èµ·è·³ï¼‰ã€‚</p>
                            <p style="margin-top:8px" data-i18n="trap1_p2"><strong>çœŸç›¸</strong>ï¼šè¿™æ˜¯å•†å®¶é»˜è®¤è®¾ç½®ï¼Œä¸æ˜¯æ³•å¾‹è§„å®šä½ å¿…é¡»é€‰è¿™äº›æ¯”ä¾‹ï¼</p>
                            <div class="tip-box">
                                <h5 data-i18n="howToAvoid">æ€ä¹ˆé¿å‘ï¼š</h5>
                                <p data-i18n="trap1_tip">â€¢ æ‰¾"è‡ªå®šä¹‰é‡‘é¢"ï¼ˆCustom Amountï¼‰é€‰é¡¹<br>â€¢ é€‰æœ€ä½çš„é‚£ä¸ªï¼Œç„¶ååœ¨Customé‡Œå¡«ä½ çœŸæ­£æƒ³ç»™çš„<br>â€¢ åˆ«ç›´æ¥ç‚¹å±å¹•ä¸­é—´â€”â€”é‚£æ˜¯å•†å®¶å¸Œæœ›ä½ é€‰çš„æœ€é«˜æ¡£</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- é™·é˜±2: å¼ºåˆ¶å°è´¹ -->
                <div class="trap-item" onclick="toggleTrap(this, event)">
                    <button class="trap-header">
                        <span class="title">âš ï¸ <span data-i18n="trap2_t">å¼ºåˆ¶å°è´¹é™·é˜±</span></span>
                        <span class="arrow">â–¼</span>
                    </button>
                    <div class="trap-body">
                        <div class="trap-content">
                            <p data-i18n="trap2_p1">å¾ˆå¤šé¤å…ï¼Œå°¤å…¶æ˜¯6äººä»¥ä¸Šèšé¤ï¼Œä¼š<strong>è‡ªåŠ¨åŠ æ”¶18%-20%çš„"æœåŠ¡è´¹"</strong>ï¼ˆService Charge/Gratuityï¼‰ã€‚</p>
                            <div class="tip-box">
                                <h5 data-i18n="howToAvoid">æ€ä¹ˆé¿å‘ï¼š</h5>
                                <p data-i18n="trap2_tip">â€¢ ç­¾å•å‰åŠ¡å¿…ä»”ç»†çœ‹è´¦å•æ˜ç»†<br>â€¢ çœ‹åˆ°"Service Charge"æˆ–"Gratuity Included"å°±ä¸ç”¨å†ç»™<br>â€¢ æœ‰äº›æ— è‰¯å•†å®¶æ”¶äº†æœåŠ¡è´¹ï¼Œåº•ä¸‹è¿˜ç•™"Tips"æ â€”â€”è¿™æ˜¯æ•…æ„å‘äºº</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- é™·é˜±3: è‡ªåŠ©æœº -->
                <div class="trap-item" onclick="toggleTrap(this, event)">
                    <button class="trap-header">
                        <span class="title">âš ï¸ <span data-i18n="trap3_t">è‡ªåŠ©æœºé™·é˜±</span></span>
                        <span class="arrow">â–¼</span>
                    </button>
                    <div class="trap-body">
                        <div class="trap-content">
                            <p data-i18n="trap3_p1">åœ¨æœºåœºä¾¿åˆ©åº—ã€è‡ªåŠ©é…¸å¥¶åº—ï¼Œä½ è‡ªå·±æ‰«ç ä»˜æ¬¾ï¼Œå±å¹•çªç„¶è·³å‡ºæ¥ï¼š"è¯·é€‰æ‹©å°è´¹ï¼š15% 18% 20%"</p>
                            <p style="margin-top:8px" data-i18n="trap3_p2"><strong>çœŸç›¸</strong>ï¼šè¿™æ˜¯æœºå™¨è®¾ç½®ï¼Œä½ å®Œå…¨å¯ä»¥ä¸ç»™ï¼</p>
                            <div class="tip-box">
                                <h5 data-i18n="howToAvoid">æ€ä¹ˆé¿å‘ï¼š</h5>
                                <p data-i18n="trap3_tip">â€¢ æ‰¾"No Tip"æˆ–"è·³è¿‡"é€‰é¡¹<br>â€¢ æ‰¾ä¸åˆ°å°±é€‰Custom Amountå¡«0<br>â€¢ æœ‰äº›æœºå™¨å±è”½"0"ï¼Œå¯è¯•è¯•å¡«0.01ç»•è¿‡</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- é™·é˜±4: åº—å‘˜å·åŠ  -->
                <div class="trap-item" onclick="toggleTrap(this, event)">
                    <button class="trap-header">
                        <span class="title">âš ï¸ <span data-i18n="trap4_t">åº—å‘˜å·åŠ å°è´¹</span></span>
                        <span class="arrow">â–¼</span>
                    </button>
                    <div class="trap-body">
                        <div class="trap-content">
                            <p data-i18n="trap4_p1">çœŸå®æ¡ˆä¾‹ï¼šä¸­å›½ç•™å­¦ç”Ÿå¦ˆå¦ˆä¹°äº†$17.28çš„ä¸œè¥¿ï¼Œåº—å‘˜è¶å¥¹ä¸æ³¨æ„ï¼Œåœ¨åˆ·å¡æœºä¸ŠåŠ ä¸Šäº†<strong>$1094.49çš„å°è´¹</strong>ï¼æœ€åé æ›å…‰æ‰è¿½å›ã€‚</p>
                            <div class="tip-box">
                                <h5 data-i18n="howToAvoid">æ€ä¹ˆé¿å‘ï¼š</h5>
                                <p data-i18n="trap4_tip">â€¢ æ¯æ¬¡åˆ·å¡åç«‹åˆ»æ£€æŸ¥æ‰‹æœºé“¶è¡Œé€šçŸ¥<br>â€¢ é‡‘é¢ä¸å¯¹å½“åœºæ‰¾åº—å‘˜å¯¹å³™<br>â€¢ ä¿ç•™å°ç¥¨ï¼Œè¿™æ˜¯ç»´æƒè¯æ®</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- é™·é˜±5: åŒé‡æ”¶è´¹ -->
                <div class="trap-item" onclick="toggleTrap(this, event)">
                    <button class="trap-header">
                        <span class="title">âš ï¸ <span data-i18n="trap5_t">åŒé‡æ”¶è´¹é™·é˜±</span></span>
                        <span class="arrow">â–¼</span>
                    </button>
                    <div class="trap-body">
                        <div class="trap-content">
                            <p data-i18n="trap5_p1">é¤å…æ”¶äº†Service Chargeï¼Œè´¦å•åº•éƒ¨<strong>åˆç•™ä¸€è¡Œ"Tips"</strong>è®©ä½ å¡«ã€‚å¾ˆå¤šäººæ²¡æ³¨æ„ï¼Œå¡«äº†20%ï¼Œç­‰äºç»™äº†ä¸¤æ¬¡ã€‚</p>
                            <div class="tip-box">
                                <h5 data-i18n="howToAvoid">æ€ä¹ˆé¿å‘ï¼š</h5>
                                <p data-i18n="trap5_tip">â€¢ çœ‹åˆ°Service Chargeå­—æ ·ï¼Œç›´æ¥åˆ’æ‰åº•éƒ¨Tipsæ <br>â€¢ å†™ä¸Š"Already included"</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- é™·é˜±6: ç°é‡‘ç»™æ³• -->
                <div class="trap-item" onclick="toggleTrap(this, event)">
                    <button class="trap-header">
                        <span class="title">âš ï¸ <span data-i18n="trap6_t">ç°é‡‘ç»™æ³•æ³¨æ„äº‹é¡¹</span></span>
                        <span class="arrow">â–¼</span>
                    </button>
                    <div class="trap-body">
                        <div class="trap-content">
                            <p data-i18n="trap6_p1">ç¾å›½æ–‡åŒ–ä¸­ï¼Œç»™ç¡¬å¸ï¼ˆå°¤å…¶æ˜¯1åˆ†ã€5åˆ†ï¼‰è¢«è§†ä¸º<strong>ä¾®è¾±æ€§è¡Œä¸º</strong>ï¼Œæ„æ€æ˜¯"ä½ åªå€¼è¿™ç‚¹é›¶é’±"ã€‚</p>
                            <div class="tip-box">
                                <h5 data-i18n="correctWay">æ­£ç¡®åšæ³•ï¼š</h5>
                                <p data-i18n="trap6_tip">â€¢ å¤šå‡†å¤‡1ç¾å…ƒçº¸å¸ï¼ˆä¸æ˜¯ç¡¬å¸ï¼ï¼‰<br>â€¢ é…’åº—æ¸…æ´ï¼šæ”¾æ•å¤´ä¸‹ï¼Œç•™çº¸æ¡"Tips"<br>â€¢ è¡Œæå‘˜ï¼šå½“é¢ç»™ï¼Œè¯´"Thank you"<br>â€¢ é¤å…ï¼šæ”¾æ¡Œä¸Šæˆ–å¤¹åœ¨è´¦å•æœ¬é‡Œ</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- ========== å¸¸è§é—®é¢˜é¡µ ========== -->
            <div class="page" id="page-faq">
                <h2 class="page-title">â“ <span data-i18n="faqTitle">å¸¸è§é—®é¢˜</span></h2>
                
                <!-- FAQ 1 -->
                <div class="faq-item" onclick="toggleFaq(this, event)">
                    <button class="faq-q">
                        <span data-i18n="faq1_q">ä¸ºä»€ä¹ˆç¾å›½å¿…é¡»ç»™å°è´¹ï¼Ÿ</span>
                        <span class="arrow">â–¼</span>
                    </button>
                    <div class="faq-a">
                        <div class="faq-a-inner">
                            <p data-i18n="faq1_a1">ç¾å›½è”é‚¦æ³•å¾‹å…è®¸é›‡ä¸»å‘"æ‹¿å°è´¹çš„å‘˜å·¥"æ”¯ä»˜æä½çš„åŸºæœ¬å·¥èµ„â€”â€”æ¯å°æ—¶æœ€ä½åªæœ‰<strong>$2.13ç¾å…ƒ</strong>ï¼ˆçº¦15å…ƒäººæ°‘å¸ï¼‰ã€‚</p>
                            <div class="highlight" data-i18n="faq1_a2">
                                â€¢ æœåŠ¡å‘˜çš„ä¸»è¦æ”¶å…¥æ¥è‡ªå°è´¹ï¼Œé€šå¸¸å æ”¶å…¥çš„50%-60%<br>
                                â€¢ ä¸ç»™å°è´¹ç­‰äºè®©ä»–ä»¬å…è´¹ä¸ºä½ æœåŠ¡<br>
                                â€¢ å°è´¹ä¸æ˜¯"é¢å¤–å¥–åŠ±"ï¼Œè€Œæ˜¯ä»–ä»¬åº”å¾—çš„åŠ³åŠ¨æŠ¥é…¬
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- FAQ 2 -->
                <div class="faq-item" onclick="toggleFaq(this, event)">
                    <button class="faq-q">
                        <span data-i18n="faq2_q">ä¸ç»™å°è´¹ä¼šæ€æ ·ï¼Ÿ</span>
                        <span class="arrow">â–¼</span>
                    </button>
                    <div class="faq-a">
                        <div class="faq-a-inner">
                            <p data-i18n="faq2_a1"><strong>1. æœåŠ¡å‘˜å¯èƒ½è¿½å‡ºæ¥è¦</strong>ï¼šæœ‰ç•™å­¦ç”Ÿç»™äº†ä¸åˆ°10%å°è´¹ï¼ŒæœåŠ¡å‘˜å½“åœºæ‹¿ç¬”è®¡ç®—ï¼Œè®©å¥¹è¡¥é’±ã€‚</p>
                            <p data-i18n="faq2_a2"><strong>2. å¯èƒ½è¢«å½“é¢è´¨é—®</strong>ï¼šæœåŠ¡å‘˜ä¼šé—®"æ˜¯å¯¹æœåŠ¡ä¸æ»¡æ„å—ï¼Ÿ"â€”â€”éå¸¸å°´å°¬ã€‚</p>
                            <p data-i18n="faq2_a3"><strong>3. å¯èƒ½è¢«åˆ—å…¥"é»‘åå•"</strong>ï¼šä¸‹æ¬¡å†å»å¯èƒ½è¢«æ€ æ…¢ã€‚</p>
                            <p data-i18n="faq2_a4"><strong>4. æœåŠ¡å‘˜å¯èƒ½ä»˜ä¸èµ·æˆ¿ç§Ÿ</strong>ï¼šåº•è–ªæä½ï¼Œå°è´¹æ˜¯ç”Ÿå­˜æ ¹æœ¬ã€‚</p>
                        </div>
                    </div>
                </div>
                
                <!-- FAQ 3 -->
                <div class="faq-item" onclick="toggleFaq(this, event)">
                    <button class="faq-q">
                        <span data-i18n="faq3_q">è´¦å•å·²å«æœåŠ¡è´¹ï¼Œè¿˜è¦ç»™å—ï¼Ÿ</span>
                        <span class="arrow">â–¼</span>
                    </button>
                    <div class="faq-a">
                        <div class="faq-a-inner">
                            <p data-i18n="faq3_a"><strong>ä¸éœ€è¦ï¼</strong>å¾ˆå¤šé¤å…ä¼šè‡ªåŠ¨åŠ 18-20%æœåŠ¡è´¹ï¼ˆæ ‡ä¸ºService Charge/Gratuityï¼‰ï¼Œè¿™å°±æ˜¯å°è´¹äº†ã€‚ç»“è´¦å‰ä»”ç»†æŸ¥çœ‹è´¦å•ï¼Œå¦‚æœå·²åŠ å°±ä¸ç”¨å†ç»™ï¼Œé¿å…é‡å¤æ”¯ä»˜ï¼</p>
                        </div>
                    </div>
                </div>
                
                <!-- FAQ 4 -->
                <div class="faq-item" onclick="toggleFaq(this, event)">
                    <button class="faq-q">
                        <span data-i18n="faq4_q">æœåŠ¡ä¸å¥½æ€ä¹ˆåŠï¼Ÿ</span>
                        <span class="arrow">â–¼</span>
                    </button>
                    <div class="faq-a">
                        <div class="faq-a-inner">
                            <p data-i18n="faq4_a1">â€¢ <strong>è½»å¾®ä¸æ»¡</strong>ï¼šç»™10%-12%ï¼ˆä½†è¦åšå¥½è¢«é—®çš„å‡†å¤‡ï¼‰</p>
                            <p data-i18n="faq4_a2">â€¢ <strong>ä¸¥é‡é—®é¢˜</strong>ï¼šå…ˆæ‰¾ç»ç†åæ˜ ï¼Œå†å†³å®šæ˜¯å¦ç»™</p>
                            <p data-i18n="faq4_a3">â€¢ ä¸å»ºè®®ç›´æ¥ä¸ç»™ä¸”ä¸è¯´åŸå› â€”â€”ä¼šè¢«è®¤ä¸ºæä¸ç¤¼è²Œ</p>
                        </div>
                    </div>
                </div>
                
                <!-- FAQ 5 -->
                <div class="faq-item" onclick="toggleFaq(this, event)">
                    <button class="faq-q">
                        <span data-i18n="faq5_q">æ€ä¹ˆç»™ç°é‡‘å°è´¹ï¼Ÿ</span>
                        <span class="arrow">â–¼</span>
                    </button>
                    <div class="faq-a">
                        <div class="faq-a-inner">
                            <p data-i18n="faq5_a1">â€¢ <strong>åˆ·å¡</strong>ï¼šè´¦å•ä¸Šæœ‰"Tip"æ å¡«é‡‘é¢ï¼Œ"Total"å¡«é¤è´¹+å°è´¹</p>
                            <p data-i18n="faq5_a2">â€¢ <strong>ç°é‡‘</strong>ï¼šæ”¾æ¡Œä¸Šæˆ–äº¤ç»™æœåŠ¡å‘˜è¯´"This is for you"</p>
                            <p data-i18n="faq5_a3">â€¢ <strong>é…’åº—</strong>ï¼šæ”¾æ•å¤´ä¸‹ç•™çº¸æ¡"For Housekeeping"</p>
                        </div>
                    </div>
                </div>
                
                <!-- FAQ 6 -->
                <div class="faq-item" onclick="toggleFaq(this, event)">
                    <button class="faq-q">
                        <span data-i18n="faq6_q">å“ªäº›åœ°æ–¹ä¸ç”¨ç»™å°è´¹ï¼Ÿ</span>
                        <span class="arrow">â–¼</span>
                    </button>
                    <div class="faq-a">
                        <div class="faq-a-inner">
                            <p data-i18n="faq6_a">å¿«é¤åº—ï¼ˆéº¦å½“åŠ³ã€æ˜Ÿå·´å…‹ï¼‰è‡ªå–ã€è¶…å¸‚è´­ç‰©ã€è‡ªåŠ©åŠ æ²¹ã€é…’åº—å‰å°åŠç†å…¥ä½ã€å…¬å…±äº¤é€šã€åŒ»é™¢è¯Šæ‰€ã€æ”¿åºœæœºæ„ç­‰ã€‚<strong>ç®€å•åˆ¤æ–­ï¼šæ²¡æœ‰äººä¸“é—¨ä¸ºä½ æä¾›ä¸ªäººæœåŠ¡ï¼Œä¸€èˆ¬ä¸ç”¨ç»™ã€‚</strong></p>
                        </div>
                    </div>
                </div>
                
                <!-- å®ç”¨æŠ€å·§ -->
                <div class="tips-card">
                    <h4>ğŸ’µ <span data-i18n="tipsTitle">å®ç”¨å°æŠ€å·§</span></h4>
                    <div class="tip-row">
                        <span class="tip-icon">ğŸ’µ</span>
                        <span class="tip-text" data-i18n="tip1">éšèº«å¸¦$20-30çš„1ç¾å…ƒçº¸å¸ï¼Œé…’åº—å’Œå°è´¹å¤„å¤„éœ€è¦ã€‚ä¸è¦å…¨é ä¿¡ç”¨å¡ã€‚</span>
                    </div>
                    <div class="tip-row">
                        <span class="tip-icon">ğŸ’³</span>
                        <span class="tip-text" data-i18n="tip2">åˆ·å¡ç­¾å•ï¼šTipæ å¡«å°è´¹ï¼ŒTotalæ å¡«æ€»å’Œï¼Œç„¶åç­¾åã€‚</span>
                    </div>
                    <div class="tip-row">
                        <span class="tip-icon">ğŸ§ </span>
                        <span class="tip-text" data-i18n="tip3">å¿ƒç®—ï¼š10%=é‡‘é¢Ã·10ï¼Œ15%=10%+ä¸€åŠï¼Œ20%=é‡‘é¢Ã·5</span>
                    </div>
                    <div class="tip-row">
                        <span class="tip-icon">ğŸª™</span>
                        <span class="tip-text" data-i18n="tip4">æ²¡é›¶é’±ï¼Ÿå»ä¾¿åˆ©åº—ä¹°ç“¶æ°´æ¢å¼€ã€‚</span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- åº•éƒ¨å¯¼èˆª -->
        <nav class="bottom-nav">
            <div class="nav-inner">
                <button class="nav-item active" onclick="showPage('calc')">
                    <span class="icon">ğŸ§®</span>
                    <span class="label" data-i18n="nav_calc">è®¡ç®—å™¨</span>
                </button>
                <button class="nav-item" onclick="showPage('guide')">
                    <span class="icon">ğŸ“‹</span>
                    <span class="label" data-i18n="nav_guide">åœºæ™¯æŒ‡å—</span>
                </button>
                <button class="nav-item" onclick="showPage('trap')">
                    <span class="icon">ğŸ›¡ï¸</span>
                    <span class="label" data-i18n="nav_trap">é¿å‘å¤§å…¨</span>
                </button>
                <button class="nav-item" onclick="showPage('faq')">
                    <span class="icon">â“</span>
                    <span class="label" data-i18n="nav_faq">å¸¸è§é—®é¢˜</span>
                </button>
            </div>
        </nav>
    </div>
    
    <!-- é¡µè„š -->
    <footer class="page-footer">
        <div class="footer-links">
            <a href="javascript:void(0)" onclick="showAbout()" data-i18n="footerAbout">å…³äºæˆ‘ä»¬</a>
            <span class="divider">|</span>
            <a href="javascript:void(0)" onclick="showPrivacy()" data-i18n="footerPrivacy">éšç§æ”¿ç­–</a>
        </div>
        <div class="copyright">Â© 2025 å°è´¹è®¡ç®—å™¨ | æ±‡ç‡æ•°æ®æ¥æºäºå…¬å¼€API</div>
    </footer>
    
    <!-- è¿”å›é¡¶éƒ¨æŒ‰é’® -->
    <button class="back-to-top" id="backToTop" onclick="scrollToTop()">â†‘</button>

    <script>
        // é…ç½®
        const RATES = { USD: 1, CNY: 7.25, JPY: 155, KRW: 1380 };
        const SYMBOLS = { USD: '$', CNY: 'Â¥', JPY: 'Â¥', KRW: 'â‚©' };
        let pct = 18;
        let lang = 'zh';
        
        // å¤šè¯­è¨€æ–‡æ¡ˆ
        const T = {
            zh: {
                title: 'å°è´¹è®¡ç®—å™¨', subtitle: 'ç¾å›½æ—…æ¸¸å°è´¹åŠ©æ‰‹',
                warning: 'ç¾å›½å¾ˆå¤šé¤å…å·²å¼ºåˆ¶æ”¶18-20%æœåŠ¡è´¹ï¼Œç»“è´¦å‰è¯·ä»”ç»†æŸ¥çœ‹è´¦å•ï¼Œé¿å…é‡å¤ç»™å°è´¹ï¼',
                billAmount: 'è´¦å•é‡‘é¢', tipPercent: 'é€‰æ‹©å°è´¹æ¯”ä¾‹', custom: 'è‡ªå®šä¹‰:',
                tipAmount: 'å°è´¹é‡‘é¢', totalAmount: 'æ€»é‡‘é¢', splitBy: 'äººæ•°åˆ†æ‘Š:', people: 'äºº', perPerson: 'æ¯äººåº”ä»˜',
                rateNote: 'ğŸ’± æ±‡ç‡ä»…ä¾›å‚è€ƒï¼Œå¯è‡ªå®šä¹‰è°ƒæ•´', rateCustom: 'è‡ªå®šä¹‰æ±‡ç‡', adPlaceholder: 'å¹¿å‘Šä½é¢„ç•™',
                nav_calc: 'è®¡ç®—å™¨', nav_guide: 'åœºæ™¯æŒ‡å—', nav_trap: 'é¿å‘å¤§å…¨', nav_faq: 'å¸¸è§é—®é¢˜',
                guideTitle: 'åœºæ™¯æŒ‡å—', trapTitle: 'é¿å‘å¤§å…¨', faqTitle: 'å¸¸è§é—®é¢˜',
                s_restaurant: 'é¤å…å ‚é£Ÿ', s_restaurant_d: '2025å¹´æ–°æ ‡å‡†ï¼š18%æ˜¯åº•çº¿ï¼Œ20%æ­£å¸¸ï¼Œ25%å¤§æ–¹ã€‚æœåŠ¡å‘˜åº•è–ªä»…$2.13/å°æ—¶ã€‚',
                s_fastfood: 'å¿«é¤/è‡ªåŠ©', s_fastfood_d: 'éº¦å½“åŠ³ã€Chipotleç­‰è‡ªå–å¯ä¸ç»™ï¼Œæœ‰äº›ä¼šæ”¾å°è´¹ç½ã€‚æœ‰äººå¸®å¿™å¯ç»™10%ã€‚',
                s_bar: 'é…’å§', s_bar_d: 'æ¯æ¯é…’å•ç‹¬ç»™ï¼Œæˆ–æœ€åæŒ‰æ€»è´¦å•ç»™ã€‚å¤æ‚é¸¡å°¾é…’æŒ‰è´¦å•æ¯”ä¾‹ã€‚',
                s_hotel: 'é…’åº—æ¸…æ´', s_hotel_d: 'æ¯å¤©æ”¾æ•å¤´ä¸Šï¼Œæœ€å¥½ç•™çº¸æ¡å†™"Tips"æˆ–"For Housekeeping"ã€‚',
                s_bellhop: 'è¡Œæå‘˜', s_bellhop_d: 'å¸®å¿™æ‹¿è¡Œæåˆ°æˆ¿é—´æ—¶å½“é¢ç»™ï¼Œè¡Œæé‡æˆ–å¤šå¯å¤šç»™ã€‚',
                s_taxi: 'å‡ºç§Ÿè½¦/Uber', s_taxi_d: 'Appé‡Œå¯ç»™ï¼Œä¹Ÿå¯ç°é‡‘ã€‚å¸æœºå¸®æ‹¿è¡Œæå¯å¤šç»™ã€‚',
                s_delivery: 'å¤–å–é…é€', s_delivery_d: 'æ¶åŠ£å¤©æ°”ã€è·¯ç¨‹è¿œã€è®¢å•å¤§å»ºè®®å¤šç»™ã€‚',
                s_salon: 'ç†å‘/ç¾ç”²', s_salon_d: 'åŒ…æ‹¬å‰ªå‘ã€æŸ“å‘ã€ç¾ç”²ç­‰ï¼Œæ»¡æ„ç»™20%ã€‚',
                s_valet: 'ä»£å®¢æ³Šè½¦', s_valet_d: 'å–è½¦æ—¶ç»™ï¼Œç¹å¿™æ—¶æ®µæˆ–é«˜æ¡£åœºæ‰€å¯ç»™$5ã€‚',
                s_tour: 'å¯¼æ¸¸', s_tour_d: 'è·Ÿå›¢æ¸¸ç»“æŸæ—¶ç»™ï¼ŒåŠæ—¥æ¸¸$5ï¼Œå…¨æ—¥æ¸¸$10ã€‚',
                quickCalc: 'å¿«é€Ÿå¿ƒç®—æ³•', calc10: 'é‡‘é¢ Ã· 10', calc15: '10% + ä¸€åŠçš„10%', calc20: 'é‡‘é¢ Ã· 5',
                howToAvoid: 'æ€ä¹ˆé¿å‘ï¼š', correctWay: 'æ­£ç¡®åšæ³•ï¼š',
                trap1_t: 'iPadç»“è´¦é™·é˜±', trap2_t: 'å¼ºåˆ¶å°è´¹é™·é˜±', trap3_t: 'è‡ªåŠ©æœºé™·é˜±',
                trap4_t: 'åº—å‘˜å·åŠ å°è´¹', trap5_t: 'åŒé‡æ”¶è´¹é™·é˜±', trap6_t: 'ç°é‡‘ç»™æ³•æ³¨æ„äº‹é¡¹',
                trap1_p1: 'ç°åœ¨ç¾å›½å¾ˆå¤šé¤å…ç”¨iPadç»“è´¦ï¼Œå±å¹•ä¼šç›´æ¥è·³å‡ºä¸‰ä¸ªé€‰é¡¹ï¼š18% | 20% | 25%ï¼ˆæœ‰çš„ç”šè‡³25%èµ·è·³ï¼‰ã€‚',
                trap1_p2: 'çœŸç›¸ï¼šè¿™æ˜¯å•†å®¶é»˜è®¤è®¾ç½®ï¼Œä¸æ˜¯æ³•å¾‹è§„å®šä½ å¿…é¡»é€‰è¿™äº›æ¯”ä¾‹ï¼',
                trap1_tip: 'â€¢ æ‰¾"è‡ªå®šä¹‰é‡‘é¢"ï¼ˆCustom Amountï¼‰é€‰é¡¹\nâ€¢ é€‰æœ€ä½çš„é‚£ä¸ªï¼Œç„¶ååœ¨Customé‡Œå¡«ä½ çœŸæ­£æƒ³ç»™çš„\nâ€¢ åˆ«ç›´æ¥ç‚¹å±å¹•ä¸­é—´â€”â€”é‚£æ˜¯å•†å®¶å¸Œæœ›ä½ é€‰çš„æœ€é«˜æ¡£',
                trap2_p1: 'å¾ˆå¤šé¤å…ï¼Œå°¤å…¶æ˜¯6äººä»¥ä¸Šèšé¤ï¼Œä¼šè‡ªåŠ¨åŠ æ”¶18%-20%çš„"æœåŠ¡è´¹"ï¼ˆService Charge/Gratuityï¼‰ã€‚',
                trap2_tip: 'â€¢ ç­¾å•å‰åŠ¡å¿…ä»”ç»†çœ‹è´¦å•æ˜ç»†\nâ€¢ çœ‹åˆ°"Service Charge"æˆ–"Gratuity Included"å°±ä¸ç”¨å†ç»™\nâ€¢ æœ‰äº›æ— è‰¯å•†å®¶æ”¶äº†æœåŠ¡è´¹ï¼Œåº•ä¸‹è¿˜ç•™"Tips"æ â€”â€”è¿™æ˜¯æ•…æ„å‘äºº',
                trap3_p1: 'åœ¨æœºåœºä¾¿åˆ©åº—ã€è‡ªåŠ©é…¸å¥¶åº—ï¼Œä½ è‡ªå·±æ‰«ç ä»˜æ¬¾ï¼Œå±å¹•çªç„¶è·³å‡ºæ¥ï¼š"è¯·é€‰æ‹©å°è´¹ï¼š15% 18% 20%"',
                trap3_p2: 'çœŸç›¸ï¼šè¿™æ˜¯æœºå™¨è®¾ç½®ï¼Œä½ å®Œå…¨å¯ä»¥ä¸ç»™ï¼',
                trap3_tip: 'â€¢ æ‰¾"No Tip"æˆ–"è·³è¿‡"é€‰é¡¹\nâ€¢ æ‰¾ä¸åˆ°å°±é€‰Custom Amountå¡«0\nâ€¢ æœ‰äº›æœºå™¨å±è”½"0"ï¼Œå¯è¯•è¯•å¡«0.01ç»•è¿‡',
                trap4_p1: 'çœŸå®æ¡ˆä¾‹ï¼šä¸­å›½ç•™å­¦ç”Ÿå¦ˆå¦ˆä¹°äº†$17.28çš„ä¸œè¥¿ï¼Œåº—å‘˜è¶å¥¹ä¸æ³¨æ„ï¼Œåœ¨åˆ·å¡æœºä¸ŠåŠ ä¸Šäº†$1094.49çš„å°è´¹ï¼æœ€åé æ›å…‰æ‰è¿½å›ã€‚',
                trap4_tip: 'â€¢ æ¯æ¬¡åˆ·å¡åç«‹åˆ»æ£€æŸ¥æ‰‹æœºé“¶è¡Œé€šçŸ¥\nâ€¢ é‡‘é¢ä¸å¯¹å½“åœºæ‰¾åº—å‘˜å¯¹å³™\nâ€¢ ä¿ç•™å°ç¥¨ï¼Œè¿™æ˜¯ç»´æƒè¯æ®',
                trap5_p1: 'é¤å…æ”¶äº†Service Chargeï¼Œè´¦å•åº•éƒ¨åˆç•™ä¸€è¡Œ"Tips"è®©ä½ å¡«ã€‚å¾ˆå¤šäººæ²¡æ³¨æ„ï¼Œå¡«äº†20%ï¼Œç­‰äºç»™äº†ä¸¤æ¬¡ã€‚',
                trap5_tip: 'â€¢ çœ‹åˆ°Service Chargeå­—æ ·ï¼Œç›´æ¥åˆ’æ‰åº•éƒ¨Tipsæ \nâ€¢ å†™ä¸Š"Already included"',
                trap6_p1: 'ç¾å›½æ–‡åŒ–ä¸­ï¼Œç»™ç¡¬å¸ï¼ˆå°¤å…¶æ˜¯1åˆ†ã€5åˆ†ï¼‰è¢«è§†ä¸ºä¾®è¾±æ€§è¡Œä¸ºï¼Œæ„æ€æ˜¯"ä½ åªå€¼è¿™ç‚¹é›¶é’±"ã€‚',
                trap6_tip: 'â€¢ å¤šå‡†å¤‡1ç¾å…ƒçº¸å¸ï¼ˆä¸æ˜¯ç¡¬å¸ï¼ï¼‰\nâ€¢ é…’åº—æ¸…æ´ï¼šæ”¾æ•å¤´ä¸‹ï¼Œç•™çº¸æ¡"Tips"\nâ€¢ è¡Œæå‘˜ï¼šå½“é¢ç»™ï¼Œè¯´"Thank you"\nâ€¢ é¤å…ï¼šæ”¾æ¡Œä¸Šæˆ–å¤¹åœ¨è´¦å•æœ¬é‡Œ',
                faq1_q: 'ä¸ºä»€ä¹ˆç¾å›½å¿…é¡»ç»™å°è´¹ï¼Ÿ',
                faq1_a1: 'ç¾å›½è”é‚¦æ³•å¾‹å…è®¸é›‡ä¸»å‘"æ‹¿å°è´¹çš„å‘˜å·¥"æ”¯ä»˜æä½çš„åŸºæœ¬å·¥èµ„â€”â€”æ¯å°æ—¶æœ€ä½åªæœ‰$2.13ç¾å…ƒï¼ˆçº¦15å…ƒäººæ°‘å¸ï¼‰ã€‚',
                faq1_a2: 'â€¢ æœåŠ¡å‘˜çš„ä¸»è¦æ”¶å…¥æ¥è‡ªå°è´¹ï¼Œé€šå¸¸å æ”¶å…¥çš„50%-60%\nâ€¢ ä¸ç»™å°è´¹ç­‰äºè®©ä»–ä»¬å…è´¹ä¸ºä½ æœåŠ¡\nâ€¢ å°è´¹ä¸æ˜¯"é¢å¤–å¥–åŠ±"ï¼Œè€Œæ˜¯ä»–ä»¬åº”å¾—çš„åŠ³åŠ¨æŠ¥é…¬',
                faq2_q: 'ä¸ç»™å°è´¹ä¼šæ€æ ·ï¼Ÿ',
                faq2_a1: '1. æœåŠ¡å‘˜å¯èƒ½è¿½å‡ºæ¥è¦ï¼šæœ‰ç•™å­¦ç”Ÿç»™äº†ä¸åˆ°10%å°è´¹ï¼ŒæœåŠ¡å‘˜å½“åœºæ‹¿ç¬”è®¡ç®—ï¼Œè®©å¥¹è¡¥é’±ã€‚',
                faq2_a2: '2. å¯èƒ½è¢«å½“é¢è´¨é—®ï¼šæœåŠ¡å‘˜ä¼šé—®"æ˜¯å¯¹æœåŠ¡ä¸æ»¡æ„å—ï¼Ÿ"â€”â€”éå¸¸å°´å°¬ã€‚',
                faq2_a3: '3. å¯èƒ½è¢«åˆ—å…¥"é»‘åå•"ï¼šä¸‹æ¬¡å†å»å¯èƒ½è¢«æ€ æ…¢ã€‚',
                faq2_a4: '4. æœåŠ¡å‘˜å¯èƒ½ä»˜ä¸èµ·æˆ¿ç§Ÿï¼šåº•è–ªæä½ï¼Œå°è´¹æ˜¯ç”Ÿå­˜æ ¹æœ¬ã€‚',
                faq3_q: 'è´¦å•å·²å«æœåŠ¡è´¹ï¼Œè¿˜è¦ç»™å—ï¼Ÿ',
                faq3_a: 'ä¸éœ€è¦ï¼å¾ˆå¤šé¤å…ä¼šè‡ªåŠ¨åŠ 18-20%æœåŠ¡è´¹ï¼ˆæ ‡ä¸ºService Charge/Gratuityï¼‰ï¼Œè¿™å°±æ˜¯å°è´¹äº†ã€‚ç»“è´¦å‰ä»”ç»†æŸ¥çœ‹è´¦å•ï¼Œå¦‚æœå·²åŠ å°±ä¸ç”¨å†ç»™ï¼Œé¿å…é‡å¤æ”¯ä»˜ï¼',
                faq4_q: 'æœåŠ¡ä¸å¥½æ€ä¹ˆåŠï¼Ÿ',
                faq4_a1: 'â€¢ è½»å¾®ä¸æ»¡ï¼šç»™10%-12%ï¼ˆä½†è¦åšå¥½è¢«é—®çš„å‡†å¤‡ï¼‰',
                faq4_a2: 'â€¢ ä¸¥é‡é—®é¢˜ï¼šå…ˆæ‰¾ç»ç†åæ˜ ï¼Œå†å†³å®šæ˜¯å¦ç»™',
                faq4_a3: 'â€¢ ä¸å»ºè®®ç›´æ¥ä¸ç»™ä¸”ä¸è¯´åŸå› â€”â€”ä¼šè¢«è®¤ä¸ºæä¸ç¤¼è²Œ',
                faq5_q: 'æ€ä¹ˆç»™ç°é‡‘å°è´¹ï¼Ÿ',
                faq5_a1: 'â€¢ åˆ·å¡ï¼šè´¦å•ä¸Šæœ‰"Tip"æ å¡«é‡‘é¢ï¼Œ"Total"å¡«é¤è´¹+å°è´¹',
                faq5_a2: 'â€¢ ç°é‡‘ï¼šæ”¾æ¡Œä¸Šæˆ–äº¤ç»™æœåŠ¡å‘˜è¯´"This is for you"',
                faq5_a3: 'â€¢ é…’åº—ï¼šæ”¾æ•å¤´ä¸‹ç•™çº¸æ¡"For Housekeeping"',
                faq6_q: 'å“ªäº›åœ°æ–¹ä¸ç”¨ç»™å°è´¹ï¼Ÿ',
                faq6_a: 'å¿«é¤åº—ï¼ˆéº¦å½“åŠ³ã€æ˜Ÿå·´å…‹ï¼‰è‡ªå–ã€è¶…å¸‚è´­ç‰©ã€è‡ªåŠ©åŠ æ²¹ã€é…’åº—å‰å°åŠç†å…¥ä½ã€å…¬å…±äº¤é€šã€åŒ»é™¢è¯Šæ‰€ã€æ”¿åºœæœºæ„ç­‰ã€‚ç®€å•åˆ¤æ–­ï¼šæ²¡æœ‰äººä¸“é—¨ä¸ºä½ æä¾›ä¸ªäººæœåŠ¡ï¼Œä¸€èˆ¬ä¸ç”¨ç»™ã€‚',
                tipsTitle: 'å®ç”¨å°æŠ€å·§',
                tip1: 'éšèº«å¸¦$20-30çš„1ç¾å…ƒçº¸å¸ï¼Œé…’åº—å’Œå°è´¹å¤„å¤„éœ€è¦ã€‚ä¸è¦å…¨é ä¿¡ç”¨å¡ã€‚',
                tip2: 'åˆ·å¡ç­¾å•ï¼šTipæ å¡«å°è´¹ï¼ŒTotalæ å¡«æ€»å’Œï¼Œç„¶åç­¾åã€‚',
                tip3: 'å¿ƒç®—ï¼š10%=é‡‘é¢Ã·10ï¼Œ15%=10%+ä¸€åŠï¼Œ20%=é‡‘é¢Ã·5',
                tip4: 'æ²¡é›¶é’±ï¼Ÿå»ä¾¿åˆ©åº—ä¹°ç“¶æ°´æ¢å¼€ã€‚',
                currUSD: 'ç¾å…ƒ USD', currCNY: 'äººæ°‘å¸ CNY', currJPY: 'æ—¥å…ƒ JPY', currKRW: 'éŸ©å…ƒ KRW',
                rateLoading: 'åŠ è½½ä¸­...', rateRefresh: 'åˆ·æ–°æ±‡ç‡', rateUpdated: 'æ›´æ–°äº', rateFailed: 'è·å–å¤±è´¥ï¼Œä½¿ç”¨é»˜è®¤æ±‡ç‡',
                footerAbout: 'å…³äºæˆ‘ä»¬', footerPrivacy: 'éšç§æ”¿ç­–',
                aboutTitle: 'å…³äºå°è´¹è®¡ç®—å™¨', aboutContent: 'è¿™æ˜¯ä¸€æ¬¾å…è´¹çš„å°è´¹è®¡ç®—å·¥å…·ï¼Œä¸“ä¸ºèµ´ç¾æ—…æ¸¸çš„ä¸­å›½æ¸¸å®¢è®¾è®¡ã€‚å®æ—¶æ±‡ç‡æ•°æ®æ¥è‡ªå…¬å¼€APIï¼Œä»…ä¾›å‚è€ƒã€‚',
                privacyTitle: 'éšç§æ”¿ç­–', privacyContent: 'æœ¬å·¥å…·ä¸æ”¶é›†ä»»ä½•ä¸ªäººä¿¡æ¯ã€‚æ±‡ç‡æ•°æ®æ¥è‡ªå…¬å¼€APIï¼Œæ‰€æœ‰è®¡ç®—å‡åœ¨æ‚¨çš„è®¾å¤‡æœ¬åœ°å®Œæˆã€‚'
            },
            en: {
                title: 'Tip Calculator', subtitle: 'US Travel Tipping Guide',
                warning: 'Many US restaurants include 18-20% service charge. Check your bill to avoid double tipping!',
                billAmount: 'Bill Amount', tipPercent: 'Select Tip %', custom: 'Custom:',
                tipAmount: 'Tip Amount', totalAmount: 'Total', splitBy: 'Split by:', people: 'people', perPerson: 'Per Person',
                rateNote: 'ğŸ’± Exchange rate for reference, customizable', rateCustom: 'Custom Rate', adPlaceholder: 'Ad Placeholder',
                nav_calc: 'Calculator', nav_guide: 'Guide', nav_trap: 'Traps', nav_faq: 'FAQ',
                guideTitle: 'Scene Guide', trapTitle: 'Avoid Traps', faqTitle: 'FAQ',
                s_restaurant: 'Restaurant', s_restaurant_d: '2025 standard: 18% baseline, 20% normal, 25% generous. Server base wage is only $2.13/hr.',
                s_fastfood: 'Fast Food', s_fastfood_d: 'No tip for self-service. Some have tip jars. 10% if helped.',
                s_bar: 'Bar', s_bar_d: '$1-2 per drink, or 15-20% of total for cocktails.',
                s_hotel: 'Housekeeping', s_hotel_d: '$2-5/day under pillow with note "For Housekeeping".',
                s_bellhop: 'Bellhop', s_bellhop_d: '$1-2/bag when they help. More for heavy bags.',
                s_taxi: 'Taxi/Uber', s_taxi_d: 'Tip in app or cash. More if driver helps with luggage.',
                s_delivery: 'Delivery', s_delivery_d: 'More for bad weather, long distance, large orders.',
                s_salon: 'Salon', s_salon_d: '15-20% for haircut, nails, etc. 20% if satisfied.',
                s_valet: 'Valet Parking', s_valet_d: '$2-5 when picking up car.',
                s_tour: 'Tour Guide', s_tour_d: '$5 half-day, $10 full-day at tour end.',
                quickCalc: 'Quick Math', calc10: 'Amount Ã· 10', calc15: '10% + half of 10%', calc20: 'Amount Ã· 5',
                howToAvoid: 'How to avoid:', correctWay: 'Correct way:',
                trap1_t: 'iPad Checkout Trap', trap2_t: 'Auto Gratuity Trap', trap3_t: 'Self-Service Trap',
                trap4_t: 'Tip Fraud', trap5_t: 'Double Charge Trap', trap6_t: 'Cash Tipping Etiquette',
                trap1_p1: 'Many restaurants use iPad checkout showing: 18% | 20% | 25% (some start at 25%!).',
                trap1_p2: 'Truth: This is default setting, not legally required!',
                trap1_tip: 'â€¢ Find "Custom Amount" option\nâ€¢ Choose lowest, then enter your real tip\nâ€¢ Don\'t tap the middle option - that\'s what they want',
                trap2_p1: 'Many restaurants, especially for 6+ people, auto-add 18-20% Service Charge/Gratuity.',
                trap2_tip: 'â€¢ Check bill details before signing\nâ€¢ If "Service Charge" or "Gratuity Included" exists, don\'t tip again\nâ€¢ Some still show "Tips" line below - that\'s a scam',
                trap3_p1: 'At airport stores, self-serve yogurt shops - you scan, pay yourself, then tip screen pops up: "15% 18% 20%"',
                trap3_p2: 'Truth: It\'s machine setting, you can skip!',
                trap3_tip: 'â€¢ Find "No Tip" or "Skip"\nâ€¢ If none, choose Custom and enter 0\nâ€¢ Some block 0, try 0.01',
                trap4_p1: 'Real case: A Chinese student\'s mom bought $17.28 items, staff secretly added $1094.49 tip! Only recovered after going viral.',
                trap4_tip: 'â€¢ Check bank notification after every swipe\nâ€¢ Confront staff if amount is wrong\nâ€¢ Keep receipt as evidence',
                trap5_p1: 'Restaurant charged Service Charge, but bill still has "Tips" line. Many don\'t notice and pay twice.',
                trap5_tip: 'â€¢ Cross out Tips line if Service Charge exists\nâ€¢ Write "Already included"',
                trap6_p1: 'In US culture, tipping coins (especially pennies) is insulting - means "you\'re only worth this change".',
                trap6_tip: 'â€¢ Prepare $1 bills (not coins!)\nâ€¢ Housekeeping: under pillow with "Tips" note\nâ€¢ Bellhop: hand directly, say "Thank you"\nâ€¢ Restaurant: on table or in bill folder',
                faq1_q: 'Why must I tip in the US?',
                faq1_a1: 'US law allows tipped workers minimum wage of only $2.13/hr (vs regular $7.25).',
                faq1_a2: 'â€¢ Tips are 50-60% of server income\nâ€¢ No tip = they work for free\nâ€¢ Tips are earned wages, not bonus',
                faq2_q: 'What if I don\'t tip?',
                faq2_a1: '1. Server may chase you: A student tipped <10%, server calculated on paper, demanded more.',
                faq2_a2: '2. May be questioned: "Was service unsatisfactory?" - very awkward.',
                faq2_a3: '3. May be blacklisted: Worse service next visit.',
                faq2_a4: '4. Server may not afford rent: Base wage is survival-level.',
                faq3_q: 'Bill has service charge. Tip more?',
                faq3_a: 'No! Many restaurants auto-add 18-20% (labeled Service Charge/Gratuity). That IS the tip. Check before paying - don\'t double pay!',
                faq4_q: 'What if service is bad?',
                faq4_a1: 'â€¢ Minor issues: 10-12% (be ready to explain)',
                faq4_a2: 'â€¢ Major problems: Talk to manager first',
                faq4_a3: 'â€¢ Don\'t zero-tip without explanation - considered very rude',
                faq5_q: 'How to tip with cash?',
                faq5_a1: 'â€¢ Card: Fill "Tip" line, "Total" = meal + tip',
                faq5_a2: 'â€¢ Cash: Leave on table or hand over saying "This is for you"',
                faq5_a3: 'â€¢ Hotel: Under pillow with "For Housekeeping" note',
                faq6_q: 'Where don\'t I tip?',
                faq6_a: 'Fast food self-service, grocery stores, self-pump gas, hotel front desk, public transit, hospitals, government offices. Rule: No personal service = no tip.',
                tipsTitle: 'Practical Tips',
                tip1: 'Carry $20-30 in $1 bills. Hotels and tips need them. Don\'t rely only on cards.',
                tip2: 'Card signing: Tip line = tip, Total = sum, then sign.',
                tip3: 'Quick math: 10%=Ã·10, 15%=10%+half, 20%=Ã·5',
                tip4: 'No change? Buy water at convenience store to break bills.',
                currUSD: 'USD', currCNY: 'CNY', currJPY: 'JPY', currKRW: 'KRW',
                rateLoading: 'Loading...', rateRefresh: 'Refresh', rateUpdated: 'Updated', rateFailed: 'Failed, using default',
                footerAbout: 'About', footerPrivacy: 'Privacy',
                aboutTitle: 'About Tip Calculator', aboutContent: 'A free tip calculator designed for Chinese tourists visiting the US. Exchange rates are from public APIs for reference only.',
                privacyTitle: 'Privacy Policy', privacyContent: 'This tool does not collect any personal information. Exchange rates come from public APIs, and all calculations are done locally on your device.'
            },
            ja: {
                title: 'ãƒãƒƒãƒ—è¨ˆç®—æ©Ÿ', subtitle: 'ã‚¢ãƒ¡ãƒªã‚«æ—…è¡Œãƒãƒƒãƒ—ã‚¬ã‚¤ãƒ‰',
                warning: 'ç±³å›½ã®å¤šãã®ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³ã¯18-20%ã®ã‚µãƒ¼ãƒ“ã‚¹æ–™ã‚’å«ã‚“ã§ã„ã¾ã™ã€‚äºŒé‡æ”¯æ‰•ã„ã‚’é¿ã‘ã‚‹ãŸã‚ã€è«‹æ±‚æ›¸ã‚’ç¢ºèªã—ã¦ãã ã•ã„ï¼',
                billAmount: 'è«‹æ±‚é‡‘é¡', tipPercent: 'ãƒãƒƒãƒ—ç‡ã‚’é¸æŠ', custom: 'ã‚«ã‚¹ã‚¿ãƒ :',
                tipAmount: 'ãƒãƒƒãƒ—é‡‘é¡', totalAmount: 'åˆè¨ˆ', splitBy: 'å‰²ã‚Šå‹˜:', people: 'äºº', perPerson: 'ä¸€äººå½“ãŸã‚Š',
                rateNote: 'ğŸ’± ç‚ºæ›¿ãƒ¬ãƒ¼ãƒˆã¯å‚è€ƒå€¤ã€ã‚«ã‚¹ã‚¿ãƒ å¯èƒ½', rateCustom: 'ã‚«ã‚¹ã‚¿ãƒ ãƒ¬ãƒ¼ãƒˆ', adPlaceholder: 'åºƒå‘Šã‚¹ãƒšãƒ¼ã‚¹',
                nav_calc: 'è¨ˆç®—æ©Ÿ', nav_guide: 'ã‚¬ã‚¤ãƒ‰', nav_trap: 'æ³¨æ„äº‹é …', nav_faq: 'FAQ',
                guideTitle: 'ã‚·ãƒ¼ãƒ³ã‚¬ã‚¤ãƒ‰', trapTitle: 'æ³¨æ„äº‹é …', faqTitle: 'ã‚ˆãã‚ã‚‹è³ªå•',
                s_restaurant: 'ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³', s_restaurant_d: '2025å¹´åŸºæº–: 18%ãŒæœ€ä½ã€20%ãŒæ™®é€šã€25%ã¯å¯›å¤§ã€‚ã‚µãƒ¼ãƒãƒ¼ã®åŸºæœ¬çµ¦ã¯$2.13/æ™‚é–“ã®ã¿ã€‚',
                s_fastfood: 'ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆãƒ•ãƒ¼ãƒ‰', s_fastfood_d: 'ã‚»ãƒ«ãƒ•ã‚µãƒ¼ãƒ“ã‚¹ã¯ãƒãƒƒãƒ—ä¸è¦ã€‚ãƒãƒƒãƒ—ã‚¸ãƒ£ãƒ¼ãŒã‚ã‚‹å ´åˆã‚‚ã€‚',
                s_bar: 'ãƒãƒ¼', s_bar_d: 'ä¸€æ¯$1-2ã€ã¾ãŸã¯åˆè¨ˆã®15-20%ã€‚',
                s_hotel: 'ãƒ›ãƒ†ãƒ«æ¸…æƒ', s_hotel_d: 'æ¯æ—¥$2-5ã‚’æšã®ä¸‹ã«ç½®ãã€‚',
                s_bellhop: 'ãƒ™ãƒ«ãƒœãƒ¼ã‚¤', s_bellhop_d: 'è·ç‰©ä¸€å€‹ã«ã¤ã$1-2ã€‚',
                s_taxi: 'ã‚¿ã‚¯ã‚·ãƒ¼/Uber', s_taxi_d: 'ã‚¢ãƒ—ãƒªã§ãƒãƒƒãƒ—ã€ã¾ãŸã¯ç¾é‡‘ã§ã€‚',
                s_delivery: 'ãƒ‡ãƒªãƒãƒªãƒ¼', s_delivery_d: 'æ‚ªå¤©å€™ã€é•·è·é›¢ã€å¤§é‡æ³¨æ–‡ã¯å¤šã‚ã«ã€‚',
                s_salon: 'ç¾å®¹é™¢', s_salon_d: 'ãƒ˜ã‚¢ã‚«ãƒƒãƒˆã€ãƒã‚¤ãƒ«ãªã©ã«15-20%ã€‚',
                s_valet: 'ãƒãƒ¬ãƒ¼ãƒ‘ãƒ¼ã‚­ãƒ³ã‚°', s_valet_d: 'è»Šã‚’å—ã‘å–ã‚‹æ™‚ã«$2-5ã€‚',
                s_tour: 'ãƒ„ã‚¢ãƒ¼ã‚¬ã‚¤ãƒ‰', s_tour_d: 'åŠæ—¥$5ã€çµ‚æ—¥$10ã€‚',
                quickCalc: 'ç°¡å˜è¨ˆç®—', calc10: 'é‡‘é¡ Ã· 10', calc15: '10% + 10%ã®åŠåˆ†', calc20: 'é‡‘é¡ Ã· 5',
                howToAvoid: 'å›é¿æ–¹æ³•:', correctWay: 'æ­£ã—ã„æ–¹æ³•:',
                trap1_t: 'iPadæ±ºæ¸ˆã®ç½ ', trap2_t: 'è‡ªå‹•ãƒãƒƒãƒ—ã®ç½ ', trap3_t: 'ã‚»ãƒ«ãƒ•ã‚µãƒ¼ãƒ“ã‚¹ã®ç½ ',
                trap4_t: 'ãƒãƒƒãƒ—è©æ¬º', trap5_t: 'äºŒé‡è«‹æ±‚ã®ç½ ', trap6_t: 'ç¾é‡‘ãƒãƒƒãƒ—ã®ãƒãƒŠãƒ¼',
                trap1_p1: 'å¤šãã®ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³ãŒiPadæ±ºæ¸ˆã§ 18% | 20% | 25% ã‚’è¡¨ç¤ºã€‚',
                trap1_p2: 'çœŸå®Ÿ: ã“ã‚Œã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šã§ã€æ³•çš„ç¾©å‹™ã§ã¯ã‚ã‚Šã¾ã›ã‚“ï¼',
                trap1_tip: 'â€¢ ã€Œã‚«ã‚¹ã‚¿ãƒ é‡‘é¡ã€ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æ¢ã™\nâ€¢ æœ€ä½ã‚’é¸ã³ã€å®Ÿéš›ã®ãƒãƒƒãƒ—ã‚’å…¥åŠ›',
                trap2_p1: 'å¤šãã®ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³ã€6äººä»¥ä¸Šã®å ´åˆã¯18-20%ã®ã‚µãƒ¼ãƒ“ã‚¹æ–™ã‚’è‡ªå‹•è¿½åŠ ã€‚',
                trap2_tip: 'â€¢ ç½²åå‰ã«è«‹æ±‚æ›¸ã®è©³ç´°ã‚’ç¢ºèª\nâ€¢ ã€ŒService Chargeã€ãŒã‚ã‚Œã°è¿½åŠ ãƒãƒƒãƒ—ä¸è¦',
                trap3_p1: 'ç©ºæ¸¯ã®åº—ã‚„ã‚»ãƒ«ãƒ•ã‚µãƒ¼ãƒ“ã‚¹åº—ã§ã€ãƒãƒƒãƒ—ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚',
                trap3_p2: 'çœŸå®Ÿ: æ©Ÿæ¢°ã®è¨­å®šãªã®ã§ã€ã‚¹ã‚­ãƒƒãƒ—ã§ãã¾ã™ï¼',
                trap3_tip: 'â€¢ ã€ŒNo Tipã€ã¾ãŸã¯ã€Œã‚¹ã‚­ãƒƒãƒ—ã€ã‚’æ¢ã™\nâ€¢ ãªã‘ã‚Œã°Customã§0ã‚’å…¥åŠ›',
                trap4_p1: 'å®Ÿä¾‹: ä¸­å›½äººå­¦ç”Ÿã®æ¯è¦ªãŒ$17.28ã®å•†å“ã‚’è³¼å…¥ã€åº—å“¡ãŒ$1094.49ã®ãƒãƒƒãƒ—ã‚’åŠ ç®—ï¼',
                trap4_tip: 'â€¢ æ¯å›ã‚«ãƒ¼ãƒ‰åˆ©ç”¨å¾Œã«éŠ€è¡Œé€šçŸ¥ã‚’ç¢ºèª\nâ€¢ ãƒ¬ã‚·ãƒ¼ãƒˆã‚’ä¿ç®¡',
                trap5_p1: 'ã‚µãƒ¼ãƒ“ã‚¹æ–™ã‚’è«‹æ±‚ã—ãªãŒã‚‰ã€ã€ŒTipsã€æ¬„ã‚‚ã‚ã‚‹ã€‚æ°—ã¥ã‹ãšäºŒé‡æ”¯æ‰•ã„ã™ã‚‹äººãŒå¤šã„ã€‚',
                trap5_tip: 'â€¢ Service ChargeãŒã‚ã‚Œã°Tipsæ¬„ã‚’æ¶ˆã™\nâ€¢ ã€ŒAlready includedã€ã¨æ›¸ã',
                trap6_p1: 'ç±³å›½æ–‡åŒ–ã§ã¯ã€ã‚³ã‚¤ãƒ³ã§ãƒãƒƒãƒ—ã™ã‚‹ã®ã¯ä¾®è¾±çš„ã€‚',
                trap6_tip: 'â€¢ $1ç´™å¹£ã‚’ç”¨æ„ï¼ˆã‚³ã‚¤ãƒ³ã§ã¯ãªãï¼ï¼‰\nâ€¢ ãƒ›ãƒ†ãƒ«: æšã®ä¸‹ã«ã€ŒTipsã€ãƒ¡ãƒ¢ã¨ä¸€ç·’ã«',
                faq1_q: 'ãªãœã‚¢ãƒ¡ãƒªã‚«ã§ãƒãƒƒãƒ—ãŒå¿…è¦ï¼Ÿ',
                faq1_a1: 'ç±³å›½æ³•ã§ã¯ã€ãƒãƒƒãƒ—ã‚’å—ã‘ã‚‹åŠ´åƒè€…ã®æœ€ä½è³ƒé‡‘ã¯$2.13/æ™‚é–“ã®ã¿ã€‚',
                faq1_a2: 'â€¢ ãƒãƒƒãƒ—ã¯ã‚µãƒ¼ãƒãƒ¼åå…¥ã®50-60%\nâ€¢ ãƒãƒƒãƒ—ãªã—=ç„¡æ–™ã§åƒã\nâ€¢ ãƒãƒƒãƒ—ã¯ãƒœãƒ¼ãƒŠã‚¹ã§ã¯ãªãçµ¦ä¸',
                faq2_q: 'ãƒãƒƒãƒ—ã‚’æ‰•ã‚ãªã„ã¨ï¼Ÿ',
                faq2_a1: '1. ã‚µãƒ¼ãƒãƒ¼ãŒè¿½ã„ã‹ã‘ã¦ãã‚‹ã“ã¨ã‚‚ã€‚',
                faq2_a2: '2. ã€Œã‚µãƒ¼ãƒ“ã‚¹ã«ä¸æº€ã§ã—ãŸã‹ï¼Ÿã€ã¨è´ã‹ã‚Œã‚‹ã‹ã‚‚ã€‚',
                faq2_a3: '3. ãƒ–ãƒ©ãƒƒã‚¯ãƒªã‚¹ãƒˆã«è¼‰ã‚‹å¯èƒ½æ€§ã€‚',
                faq2_a4: '4. ã‚µãƒ¼ãƒãƒ¼ã¯å®¶è³ƒã‚’æ‰•ãˆãªã„ã‹ã‚‚ã€‚',
                faq3_q: 'è«‹æ±‚æ›¸ã«ã‚µãƒ¼ãƒ“ã‚¹æ–™ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã€‚è¿½åŠ ãƒãƒƒãƒ—ã¯ï¼Ÿ',
                faq3_a: 'ä¸è¦ã§ã™ï¼å¤šãã®ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³ã¯18-20%ã‚’è‡ªå‹•è¿½åŠ ï¼ˆService Charge/Gratuityï¼‰ã€‚ãã‚ŒãŒãƒãƒƒãƒ—ã§ã™ã€‚äºŒé‡æ”¯æ‰•ã„ã—ãªã„ã§ï¼',
                faq4_q: 'ã‚µãƒ¼ãƒ“ã‚¹ãŒæ‚ªã„å ´åˆã¯ï¼Ÿ',
                faq4_a1: 'â€¢ è»½å¾®ãªå•é¡Œ: 10-12%ï¼ˆèª¬æ˜ã®æº–å‚™ã‚’ï¼‰',
                faq4_a2: 'â€¢ é‡å¤§ãªå•é¡Œ: ã¾ãšãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã«ç›¸è«‡',
                faq4_a3: 'â€¢ èª¬æ˜ãªã—ã®ã‚¼ãƒ­ãƒãƒƒãƒ—ã¯å¤±ç¤¼',
                faq5_q: 'ç¾é‡‘ã§ãƒãƒƒãƒ—ã™ã‚‹æ–¹æ³•ã¯ï¼Ÿ',
                faq5_a1: 'â€¢ ã‚«ãƒ¼ãƒ‰: ã€ŒTipã€æ¬„ã«è¨˜å…¥ã€ã€ŒTotalã€=é£Ÿäº‹ä»£+ãƒãƒƒãƒ—',
                faq5_a2: 'â€¢ ç¾é‡‘: ãƒ†ãƒ¼ãƒ–ãƒ«ã«ç½®ãã‹ã€ŒThis is for youã€ã¨æ¸¡ã™',
                faq5_a3: 'â€¢ ãƒ›ãƒ†ãƒ«: æšã®ä¸‹ã«ã€ŒFor Housekeepingã€ãƒ¡ãƒ¢ã¨ä¸€ç·’ã«',
                faq6_q: 'ãƒãƒƒãƒ—ä¸è¦ã®å ´æ‰€ã¯ï¼Ÿ',
                faq6_a: 'ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆãƒ•ãƒ¼ãƒ‰ã®ã‚»ãƒ«ãƒ•ã‚µãƒ¼ãƒ“ã‚¹ã€ã‚¹ãƒ¼ãƒ‘ãƒ¼ã€ã‚»ãƒ«ãƒ•ã‚¬ã‚¹ã‚¹ã‚¿ãƒ³ãƒ‰ã€ãƒ›ãƒ†ãƒ«ãƒ•ãƒ­ãƒ³ãƒˆã€å…¬å…±äº¤é€šã€ç—…é™¢ã€å½¹æ‰€ãªã©ã€‚ãƒ«ãƒ¼ãƒ«: å€‹äººã‚µãƒ¼ãƒ“ã‚¹ãŒãªã‘ã‚Œã°ãƒãƒƒãƒ—ä¸è¦ã€‚',
                tipsTitle: 'å®Ÿç”¨ãƒ†ã‚£ãƒƒãƒ—ã‚¹',
                tip1: '$1ç´™å¹£ã‚’$20-30åˆ†æºå¸¯ã€‚ãƒ›ãƒ†ãƒ«ã‚„ãƒãƒƒãƒ—ã«å¿…è¦ã€‚',
                tip2: 'ã‚«ãƒ¼ãƒ‰ç½²å: Tipæ¬„=ãƒãƒƒãƒ—ã€Total=åˆè¨ˆã€ç½²åã€‚',
                tip3: 'ç°¡å˜è¨ˆç®—: 10%=Ã·10ã€15%=10%+åŠåˆ†ã€20%=Ã·5',
                tip4: 'å°éŠ­ãŒãªã„ï¼Ÿã‚³ãƒ³ãƒ“ãƒ‹ã§æ°´ã‚’è²·ã£ã¦å´©ã™ã€‚',
                currUSD: 'ãƒ‰ãƒ« USD', currCNY: 'äººæ°‘å…ƒ CNY', currJPY: 'å†† JPY', currKRW: 'ã‚¦ã‚©ãƒ³ KRW',
                rateLoading: 'èª­ã¿è¾¼ã¿ä¸­...', rateRefresh: 'æ›´æ–°', rateUpdated: 'æ›´æ–°æ™‚åˆ»', rateFailed: 'å¤±æ•—ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆä½¿ç”¨',
                footerAbout: 'ç´¹ä»‹', footerPrivacy: 'ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼',
                aboutTitle: 'ãƒãƒƒãƒ—è¨ˆç®—æ©Ÿã«ã¤ã„ã¦', aboutContent: 'ç±³å›½ã‚’è¨ªã‚Œã‚‹ä¸­å›½äººè¦³å…‰å®¢ã®ãŸã‚ã®ç„¡æ–™ãƒãƒƒãƒ—è¨ˆç®—ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚ç‚ºæ›¿ãƒ¬ãƒ¼ãƒˆã¯å…¬é–‹APIã‹ã‚‰å–å¾—ã—ã¦ã„ã¾ã™ã€‚',
                privacyTitle: 'ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼', privacyContent: 'ã“ã®ãƒ„ãƒ¼ãƒ«ã¯å€‹äººæƒ…å ±ã‚’åé›†ã—ã¾ã›ã‚“ã€‚ã™ã¹ã¦ã®è¨ˆç®—ã¯ãŠä½¿ã„ã®ãƒ‡ãƒã‚¤ã‚¹ã§ãƒ­ãƒ¼ã‚«ãƒ«ã«å®Ÿè¡Œã•ã‚Œã¾ã™ã€‚'
            },
            ko: {
                title: 'íŒ ê³„ì‚°ê¸°', subtitle: 'ë¯¸êµ­ ì—¬í–‰ íŒ ê°€ì´ë“œ',
                warning: 'ë¯¸êµ­ ë§ì€ ì‹ë‹¹ì—ì„œ 18-20% ì„œë¹„ìŠ¤ë£Œê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì´ì¤‘ ì§€ë¶ˆì„ í”¼í•˜ë ¤ë©´ ì˜ìˆ˜ì¦ì„ í™•ì¸í•˜ì„¸ìš”!',
                billAmount: 'ì²­êµ¬ ê¸ˆì•¡', tipPercent: 'íŒ ë¹„ìœ¨ ì„ íƒ', custom: 'ì§ì ‘ ì…ë ¥:',
                tipAmount: 'íŒ ê¸ˆì•¡', totalAmount: 'ì´ì•¡', splitBy: 'ë‚˜ëˆ„ê¸°:', people: 'ëª…', perPerson: '1ì¸ë‹¹',
                rateNote: 'ğŸ’± í™˜ìœ¨ì€ ì°¸ê³ ìš©, ì‚¬ìš©ì ì§€ì • ê°€ëŠ¥', rateCustom: 'ì‚¬ìš©ì ì§€ì • í™˜ìœ¨', adPlaceholder: 'ê´‘ê³  ì˜ì—­',
                nav_calc: 'ê³„ì‚°ê¸°', nav_guide: 'ê°€ì´ë“œ', nav_trap: 'ì£¼ì˜ì‚¬í•­', nav_faq: 'FAQ',
                guideTitle: 'ìƒí™©ë³„ ê°€ì´ë“œ', trapTitle: 'ì£¼ì˜ì‚¬í•­', faqTitle: 'ìì£¼ ë¬»ëŠ” ì§ˆë¬¸',
                s_restaurant: 'ë ˆìŠ¤í† ë‘', s_restaurant_d: '2025ë…„ ê¸°ì¤€: 18%ê°€ ìµœì†Œ, 20%ê°€ ë³´í†µ, 25%ëŠ” ê´€ëŒ€í•¨. ì„œë²„ ê¸°ë³¸ê¸‰ì€ $2.13/ì‹œê°„ë§Œ.',
                s_fastfood: 'íŒ¨ìŠ¤íŠ¸í‘¸ë“œ', s_fastfood_d: 'ì…€í”„ì„œë¹„ìŠ¤ëŠ” íŒ ë¶ˆí•„ìš”. íŒ í†µì´ ìˆëŠ” ê²½ìš°ë„.',
                s_bar: 'ë°”', s_bar_d: 'ìŒë£Œë‹¹ $1-2, ë˜ëŠ” ì´ì•¡ì˜ 15-20%.',
                s_hotel: 'í˜¸í…” ì²­ì†Œ', s_hotel_d: 'ë§¤ì¼ $2-5ë¥¼ ë² ê°œ ì•„ë˜ì—.',
                s_bellhop: 'ë²¨ë³´ì´', s_bellhop_d: 'ê°€ë°©ë‹¹ $1-2.',
                s_taxi: 'íƒì‹œ/Uber', s_taxi_d: 'ì•±ìœ¼ë¡œ íŒ, ë˜ëŠ” í˜„ê¸ˆìœ¼ë¡œ.',
                s_delivery: 'ë°°ë‹¬', s_delivery_d: 'ì•…ì²œí›„, ë¨¼ ê±°ë¦¬, ëŒ€ëŸ‰ ì£¼ë¬¸ì—ëŠ” ë” ë§ì´.',
                s_salon: 'ë¯¸ìš©ì‹¤', s_salon_d: 'í—¤ì–´ì»·, ë„¤ì¼ ë“±ì— 15-20%.',
                s_valet: 'ë°œë Œ íŒŒí‚¹', s_valet_d: 'ì°¨ë¥¼ ë°›ì„ ë•Œ $2-5.',
                s_tour: 'íˆ¬ì–´ ê°€ì´ë“œ', s_tour_d: 'ë°˜ì¼ $5, ì¢…ì¼ $10.',
                quickCalc: 'ê°„ë‹¨ ê³„ì‚°', calc10: 'ê¸ˆì•¡ Ã· 10', calc15: '10% + 10%ì˜ ë°˜', calc20: 'ê¸ˆì•¡ Ã· 5',
                howToAvoid: 'í”¼í•˜ëŠ” ë°©ë²•:', correctWay: 'ì˜¬ë°”ë¥¸ ë°©ë²•:',
                trap1_t: 'iPad ê²°ì œ í•¨ì •', trap2_t: 'ìë™ íŒ í•¨ì •', trap3_t: 'ì…€í”„ì„œë¹„ìŠ¤ í•¨ì •',
                trap4_t: 'íŒ ì‚¬ê¸°', trap5_t: 'ì´ì¤‘ ì²­êµ¬ í•¨ì •', trap6_t: 'í˜„ê¸ˆ íŒ ì—í‹°ì¼“',
                trap1_p1: 'ë§ì€ ì‹ë‹¹ì—ì„œ iPad ê²°ì œ ì‹œ 18% | 20% | 25% í‘œì‹œ.',
                trap1_p2: 'ì§„ì‹¤: ì´ê²ƒì€ ê¸°ë³¸ ì„¤ì •ì´ë©°, ë²•ì  ì˜ë¬´ê°€ ì•„ë‹™ë‹ˆë‹¤!',
                trap1_tip: 'â€¢ "ì‚¬ìš©ì ì§€ì • ê¸ˆì•¡" ì˜µì…˜ ì°¾ê¸°\nâ€¢ ìµœì†Œë¥¼ ì„ íƒí•˜ê³  ì‹¤ì œ íŒ ì…ë ¥',
                trap2_p1: 'ë§ì€ ì‹ë‹¹, íŠ¹íˆ 6ì¸ ì´ìƒì€ 18-20% ì„œë¹„ìŠ¤ë£Œ ìë™ ì¶”ê°€.',
                trap2_tip: 'â€¢ ì„œëª… ì „ ì²­êµ¬ì„œ ì„¸ë¶€ì‚¬í•­ í™•ì¸\nâ€¢ "Service Charge"ê°€ ìˆìœ¼ë©´ ì¶”ê°€ íŒ ë¶ˆí•„ìš”',
                trap3_p1: 'ê³µí•­ ë§¤ì¥, ì…€í”„ì„œë¹„ìŠ¤ ë§¤ì¥ì—ì„œ íŒ í™”ë©´ì´ í‘œì‹œë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.',
                trap3_p2: 'ì§„ì‹¤: ê¸°ê³„ ì„¤ì •ì´ë¯€ë¡œ ê±´ë„ˆë›¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤!',
                trap3_tip: 'â€¢ "No Tip" ë˜ëŠ” "ê±´ë„ˆë›°ê¸°" ì°¾ê¸°\nâ€¢ ì—†ìœ¼ë©´ Customì—ì„œ 0 ì…ë ¥',
                trap4_p1: 'ì‹¤ì œ ì‚¬ë¡€: ì¤‘êµ­ ìœ í•™ìƒ ì–´ë¨¸ë‹ˆê°€ $17.28 êµ¬ë§¤, ì§ì›ì´ $1094.49 íŒ ì¶”ê°€!',
                trap4_tip: 'â€¢ ì¹´ë“œ ì‚¬ìš© í›„ ì€í–‰ ì•Œë¦¼ í™•ì¸\nâ€¢ ì˜ìˆ˜ì¦ ë³´ê´€',
                trap5_p1: 'ì‹ë‹¹ì—ì„œ Service Chargeë¥¼ ì²­êµ¬í•˜ë©´ì„œ "Tips" ë€ë„ ìˆìŒ. ë§ì€ ì‚¬ëŒë“¤ì´ ëª¨ë¥´ê³  ë‘ ë²ˆ ì§€ë¶ˆ.',
                trap5_tip: 'â€¢ Service Chargeê°€ ìˆìœ¼ë©´ Tips ë€ ì§€ìš°ê¸°\nâ€¢ "Already included" ì‘ì„±',
                trap6_p1: 'ë¯¸êµ­ ë¬¸í™”ì—ì„œ ë™ì „ìœ¼ë¡œ íŒí•˜ëŠ” ê²ƒì€ ëª¨ìš•ì .',
                trap6_tip: 'â€¢ $1 ì§€í ì¤€ë¹„(ë™ì „ ì•„ë‹˜!)\nâ€¢ í˜¸í…”: ë² ê°œ ì•„ë˜ì— "Tips" ë©”ëª¨ì™€ í•¨ê»˜',
                faq1_q: 'ì™œ ë¯¸êµ­ì—ì„œ íŒì„ í•´ì•¼ í•˜ë‚˜ìš”?',
                faq1_a1: 'ë¯¸êµ­ë²•ì—ì„œ íŒì„ ë°›ëŠ” ê·¼ë¡œìì˜ ìµœì €ì„ê¸ˆì€ $2.13/ì‹œê°„ë§Œ.',
                faq1_a2: 'â€¢ íŒì´ ì„œë²„ ìˆ˜ì…ì˜ 50-60%\nâ€¢ íŒ ì—†ìŒ = ë¬´ë£Œë¡œ ì¼í•¨\nâ€¢ íŒì€ ë³´ë„ˆìŠ¤ê°€ ì•„ë‹Œ ê¸‰ì—¬',
                faq2_q: 'íŒì„ ì£¼ì§€ ì•Šìœ¼ë©´?',
                faq2_a1: '1. ì„œë²„ê°€ ì«“ì•„ì˜¬ ìˆ˜ ìˆìŒ.',
                faq2_a2: '2. "ì„œë¹„ìŠ¤ê°€ ë¶ˆë§Œì¡±ìŠ¤ëŸ¬ì› ë‚˜ìš”?"ë¼ê³  ë¬¼ì„ ìˆ˜ ìˆìŒ.',
                faq2_a3: '3. ë¸”ë™ë¦¬ìŠ¤íŠ¸ì— ì˜¤ë¥¼ ìˆ˜ ìˆìŒ.',
                faq2_a4: '4. ì„œë²„ê°€ ì§‘ì„¸ë¥¼ ëª» ë‚¼ ìˆ˜ ìˆìŒ.',
                faq3_q: 'ì˜ìˆ˜ì¦ì— ì„œë¹„ìŠ¤ë£Œê°€ ìˆìŠµë‹ˆë‹¤. ì¶”ê°€ íŒì´ í•„ìš”í•œê°€ìš”?',
                faq3_a: 'í•„ìš” ì—†ìŠµë‹ˆë‹¤! ë§ì€ ì‹ë‹¹ì´ 18-20% ìë™ ì¶”ê°€(Service Charge/Gratuity). ê·¸ê²ƒì´ íŒì…ë‹ˆë‹¤. ì´ì¤‘ ì§€ë¶ˆí•˜ì§€ ë§ˆì„¸ìš”!',
                faq4_q: 'ì„œë¹„ìŠ¤ê°€ ë‚˜ì˜ë©´?',
                faq4_a1: 'â€¢ ê²½ë¯¸í•œ ë¬¸ì œ: 10-12%(ì„¤ëª… ì¤€ë¹„)',
                faq4_a2: 'â€¢ ì‹¬ê°í•œ ë¬¸ì œ: ë¨¼ì € ë§¤ë‹ˆì €ì™€ ìƒë‹´',
                faq4_a3: 'â€¢ ì„¤ëª… ì—†ì´ 0 íŒì€ ë¬´ë¡€',
                faq5_q: 'í˜„ê¸ˆìœ¼ë¡œ íŒí•˜ëŠ” ë°©ë²•ì€?',
                faq5_a1: 'â€¢ ì¹´ë“œ: "Tip" ë€ì— ì‘ì„±, "Total" = ì‹ì‚¬ë¹„ + íŒ',
                faq5_a2: 'â€¢ í˜„ê¸ˆ: í…Œì´ë¸”ì— ë‘ê±°ë‚˜ "This is for you"ë¼ê³  ê±´ë„¤ê¸°',
                faq5_a3: 'â€¢ í˜¸í…”: ë² ê°œ ì•„ë˜ì— "For Housekeeping" ë©”ëª¨ì™€ í•¨ê»˜',
                faq6_q: 'íŒì´ í•„ìš” ì—†ëŠ” ê³³ì€?',
                faq6_a: 'íŒ¨ìŠ¤íŠ¸í‘¸ë“œ ì…€í”„ì„œë¹„ìŠ¤, ìŠ¤í¼ë§ˆì¼“, ì…€í”„ ì£¼ìœ ì†Œ, í˜¸í…” í”„ë¡ íŠ¸, ëŒ€ì¤‘êµí†µ, ë³‘ì›, ê´€ê³µì„œ. ê·œì¹™: ê°œì¸ ì„œë¹„ìŠ¤ê°€ ì—†ìœ¼ë©´ íŒ ë¶ˆí•„ìš”.',
                tipsTitle: 'ì‹¤ìš© íŒ',
                tip1: '$1 ì§€í $20-30 ì§€ì°¸. í˜¸í…”ê³¼ íŒì— í•„ìš”.',
                tip2: 'ì¹´ë“œ ì„œëª…: Tip ë€ = íŒ, Total = í•©ê³„, ì„œëª….',
                tip3: 'ê°„ë‹¨ ê³„ì‚°: 10%=Ã·10, 15%=10%+ë°˜, 20%=Ã·5',
                tip4: 'ì”ëˆì´ ì—†ë‚˜ìš”? í¸ì˜ì ì—ì„œ ë¬¼ì„ ì‚¬ì„œ ë°”ê¾¸ì„¸ìš”.',
                currUSD: 'ë‹¬ëŸ¬ USD', currCNY: 'ìœ„ì•ˆ CNY', currJPY: 'ì—” JPY', currKRW: 'ì› KRW',
                rateLoading: 'ë¡œë”© ì¤‘...', rateRefresh: 'ìƒˆë¡œê³ ì¹¨', rateUpdated: 'ì—…ë°ì´íŠ¸', rateFailed: 'ì‹¤íŒ¨, ê¸°ë³¸ê°’ ì‚¬ìš©',
                footerAbout: 'ì†Œê°œ', footerPrivacy: 'ê°œì¸ì •ë³´',
                aboutTitle: 'íŒ ê³„ì‚°ê¸° ì†Œê°œ', aboutContent: 'ë¯¸êµ­ì„ ë°©ë¬¸í•˜ëŠ” ì¤‘êµ­ ê´€ê´‘ê°ì„ ìœ„í•œ ë¬´ë£Œ íŒ ê³„ì‚°ê¸°ì…ë‹ˆë‹¤. í™˜ìœ¨ì€ ê³µê°œ APIì—ì„œ ê°€ì ¸ì˜µë‹ˆë‹¤.',
                privacyTitle: 'ê°œì¸ì •ë³´ ì²˜ë¦¬ë°©ì¹¨', privacyContent: 'ì´ ë„êµ¬ëŠ” ê°œì¸ì •ë³´ë¥¼ ìˆ˜ì§‘í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ëª¨ë“  ê³„ì‚°ì€ ì‚¬ìš©ìì˜ ê¸°ê¸°ì—ì„œ ë¡œì»¬ë¡œ ì‹¤í–‰ë©ë‹ˆë‹¤.'
            }
        };
        
        // é¡µé¢åˆ‡æ¢
        function showPage(name) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            document.getElementById('page-' + name).classList.add('active');
            document.querySelector(`[onclick="showPage('${name}')"]`).classList.add('active');
            window.scrollTo(0, 0);
        }
        
        // è¯­è¨€åˆ‡æ¢
        function setLang(l) {
            lang = l;
            document.querySelectorAll('.lang-btn').forEach(b => {
                const btnLang = b.getAttribute('onclick').match(/'(\w+)'/)[1];
                b.classList.toggle('active', btnLang === l);
            });
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const k = el.getAttribute('data-i18n');
                if (T[l][k]) el.innerHTML = T[l][k].replace(/\n/g, '<br>');
            });
            // æ›´æ–°åŠ¨æ€å†…å®¹ï¼ˆæ±‡ç‡æ—¶é—´æ˜¾ç¤ºç­‰ï¼‰
            updateDynamicContent();
            // æ›´æ–°ç»“æœå¸ç§æ˜¾ç¤º
            calc();
        }
        
        // æ›´æ–°åŠ¨æ€ç”Ÿæˆçš„å†…å®¹
        function updateDynamicContent() {
            const timeEl = document.getElementById('rateTime');
            const currentText = timeEl.textContent;
            // å¦‚æœåŒ…å«æ—¶é—´ï¼Œæ›´æ–°å‰ç¼€æ–‡å­—
            const timeMatch = currentText.match(/\d{1,2}[:\.\u65f6]\d{2}|\d{4}[-/]\d{1,2}[-/]\d{1,2}/);
            if (timeMatch) {
                timeEl.textContent = `ğŸ’± ${T[lang].rateUpdated} ${timeMatch[0]}`;
            } else if (currentText.includes('åŠ è½½') || currentText.includes('Loading') || currentText.includes('èª­ã¿è¾¼ã¿') || currentText.includes('ë¡œë”©')) {
                timeEl.textContent = T[lang].rateLoading;
            } else if (currentText.includes('å¤±è´¥') || currentText.includes('Failed') || currentText.includes('å¤±æ•—') || currentText.includes('ì‹¤íŒ¨')) {
                timeEl.textContent = `ğŸ’± ${T[lang].rateFailed}`;
            }
        }
        
        // è¾“å…¥å¤„ç†
        function onAmountInput(el) {
            let v = el.value.replace(/[^\d.]/g, '');
            const parts = v.split('.');
            if (parts.length > 2) v = parts[0] + '.' + parts.slice(1).join('');
            if (parts[1]?.length > 2) v = parts[0] + '.' + parts[1].slice(0, 2);
            el.value = v;
            calc();
        }
        
        function onCustomPct(el) {
            let v = el.value.replace(/\D/g, '');
            if (+v > 100) v = '100';
            el.value = v;
            if (v) {
                pct = +v;
                document.querySelectorAll('.percent-btn').forEach(b => b.classList.remove('active'));
            }
            calc();
        }
        
        function onSplitInput(el) {
            let v = el.value.replace(/\D/g, '');
            if (!v || +v < 1) v = '1';
            el.value = v;
            calc();
        }
        
        function setPct(p) {
            pct = p;
            document.querySelectorAll('.percent-btn').forEach(b => b.classList.toggle('active', +b.dataset.pct === p));
            document.getElementById('customPct').value = '';
            calc();
        }
        
        // è®¡ç®—
        function calc() {
            let billUSD = parseFloat(document.getElementById('billAmount').value) || 0;
            const split = parseInt(document.getElementById('splitNum').value) || 1;
            
            const tip = billUSD * pct / 100;
            const total = billUSD + tip;
            const per = total / split;
            
            // æ˜¾ç¤ºç¾å…ƒé‡‘é¢
            document.getElementById('tipAmt').textContent = tip.toFixed(2);
            document.getElementById('totalAmt').textContent = total.toFixed(2);
            document.getElementById('perAmt').textContent = per.toFixed(2);
            
            // æ ¹æ®è¯­è¨€å†³å®šæ˜¾ç¤ºå“ªä¸ªå¸ç§
            const langToCurrency = { zh: 'CNY', ja: 'JPY', ko: 'KRW', en: null };
            const displayCur = langToCurrency[lang];
            
            // è·å–æ‰€æœ‰å¸ç§æ˜¾ç¤ºå…ƒç´ 
            const currRows = document.querySelectorAll('.result-cny, .split-result .cny');
            
            if (displayCur) {
                // æ˜¾ç¤ºå¯¹åº”å¸ç§
                currRows.forEach(el => el.style.display = '');
                const displaySymbol = SYMBOLS[displayCur];
                const displayRate = RATES[displayCur];
                const decimals = displayCur === 'KRW' ? 0 : 2;
                
                document.getElementById('tipCurrSymbol').textContent = displaySymbol;
                document.getElementById('tipCurr').textContent = (tip * displayRate).toFixed(decimals);
                document.getElementById('tipCurrLabel').textContent = displayCur;
                
                document.getElementById('totalCurrSymbol').textContent = displaySymbol;
                document.getElementById('totalCurr').textContent = (total * displayRate).toFixed(decimals);
                document.getElementById('totalCurrLabel').textContent = displayCur;
                
                document.getElementById('perCurrSymbol').textContent = displaySymbol;
                document.getElementById('perCurr').textContent = (per * displayRate).toFixed(decimals);
                document.getElementById('perCurrLabel').textContent = displayCur;
            } else {
                // è‹±æ–‡åªæ˜¾ç¤ºç¾å…ƒï¼Œéšè—å…¶ä»–å¸ç§
                currRows.forEach(el => el.style.display = 'none');
            }
        }
        
        // æŠ˜å é¢æ¿ - åªåœ¨ç‚¹å‡»headeræ—¶è§¦å‘ï¼Œé¿å…è¯¯è§¦
        function toggleTrap(el, e) {
            // åªå“åº”headerçš„ç‚¹å‡»ï¼Œé˜»æ­¢å†…å®¹åŒºç‚¹å‡»å†’æ³¡
            if (e && e.target.closest('.trap-content')) return;
            e && e.stopPropagation();
            el.classList.toggle('open');
        }
        function toggleFaq(el, e) {
            if (e && e.target.closest('.faq-a-inner')) return;
            e && e.stopPropagation();
            el.classList.toggle('open');
        }
        function toggleRateSetting(e) {
            if (e.target.tagName === 'INPUT') return;
            document.getElementById('rateSetting').classList.toggle('open');
        }
        
        // æ±‡ç‡è¾“å…¥å¤„ç†
        function onRateInput(el, cur) {
            let v = el.value.replace(/[^\d.]/g, '');
            const parts = v.split('.');
            if (parts.length > 2) v = parts[0] + '.' + parts.slice(1).join('');
            if (parts[1]?.length > 4) v = parts[0] + '.' + parts[1].slice(0, 4);
            el.value = v;
            const rate = parseFloat(v) || 1;
            RATES[cur] = rate;
            calc();
        }
        
        // åˆå§‹åŒ–
        calc();
        fetchRates(); // è‡ªåŠ¨è·å–æœ€æ–°æ±‡ç‡
        initBackToTop(); // åˆå§‹åŒ–è¿”å›é¡¶éƒ¨æŒ‰é’®
        
        // ç¼“å­˜è¿‡æœŸæ—¶é—´ï¼ˆ24å°æ—¶ï¼‰
        const CACHE_EXPIRE_MS = 24 * 60 * 60 * 1000;
        
        // è·å–å®æ—¶æ±‡ç‡ï¼ˆå¸¦å¤‡ç”¨APIå’Œé‡è¯•é€»è¾‘ï¼‰
        async function fetchRates(retry = 0, forceRefresh = false) {
            const btn = document.getElementById('rateRefreshBtn');
            const timeEl = document.getElementById('rateTime');
            
            // æ£€æŸ¥ç¼“å­˜æ˜¯å¦æœ‰æ•ˆï¼ˆéå¼ºåˆ¶åˆ·æ–°ä¸”ç¼“å­˜æœªè¿‡æœŸï¼‰
            if (!forceRefresh && retry === 0) {
                const cached = localStorage.getItem('tipCalcRates');
                if (cached) {
                    const { rates, time } = JSON.parse(cached);
                    const cacheAge = Date.now() - time;
                    if (cacheAge < CACHE_EXPIRE_MS) {
                        // ç¼“å­˜æœ‰æ•ˆï¼Œç›´æ¥ä½¿ç”¨
                        Object.assign(RATES, rates);
                        document.getElementById('rateCNY').value = rates.CNY?.toFixed(4) || '7.25';
                        document.getElementById('rateJPY').value = rates.JPY?.toFixed(2) || '155';
                        document.getElementById('rateKRW').value = rates.KRW?.toFixed(0) || '1380';
                        const cacheDate = new Date(time);
                        timeEl.textContent = `ğŸ’± ${T[lang].rateUpdated} ${cacheDate.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}`;
                        calc();
                        return;
                    }
                }
            }
            
            btn.disabled = true;
            btn.classList.add('loading');
            timeEl.textContent = T[lang].rateLoading;
            
            // APIåˆ—è¡¨ï¼ˆä¸»ç”¨ + å¤‡ç”¨ï¼‰
            const apis = [
                'https://api.frankfurter.app/latest?from=USD&to=CNY,JPY,KRW',
                'https://open.er-api.com/v6/latest/USD'
            ];
            
            try {
                const apiUrl = apis[retry % apis.length];
                const resp = await fetch(apiUrl, { timeout: 5000 });
                if (!resp.ok) throw new Error('API error');
                const data = await resp.json();
                
                // è§£ææ±‡ç‡ï¼ˆä¸åŒAPIæ ¼å¼ä¸åŒï¼‰
                let rates = data.rates || {};
                
                // æ›´æ–°æ±‡ç‡ï¼ˆå¦‚æœAPIè¿”å›äº†è¯¥è´§å¸æ‰æ›´æ–°ï¼Œå¦åˆ™ä¿ç•™é»˜è®¤å€¼ï¼‰
                if (rates.CNY && typeof rates.CNY === 'number') {
                    RATES.CNY = rates.CNY;
                    document.getElementById('rateCNY').value = rates.CNY.toFixed(4);
                } else {
                    console.log('CNY rate not available from API, using default:', RATES.CNY);
                }
                if (rates.JPY && typeof rates.JPY === 'number') {
                    RATES.JPY = rates.JPY;
                    document.getElementById('rateJPY').value = rates.JPY.toFixed(2);
                } else {
                    console.log('JPY rate not available from API, using default:', RATES.JPY);
                }
                if (rates.KRW && typeof rates.KRW === 'number') {
                    RATES.KRW = rates.KRW;
                    document.getElementById('rateKRW').value = rates.KRW.toFixed(0);
                } else {
                    console.log('KRW rate not available from API, using default:', RATES.KRW);
                }
                
                // ç¼“å­˜åˆ°localStorageï¼ˆå¸¦æ—¶é—´æˆ³ï¼‰
                localStorage.setItem('tipCalcRates', JSON.stringify({ rates: RATES, time: Date.now() }));
                
                // æ˜¾ç¤ºæ›´æ–°æ—¶é—´
                const now = new Date();
                const timeStr = now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
                timeEl.textContent = `ğŸ’± ${T[lang].rateUpdated} ${timeStr}`;
                
                calc();
            } catch (e) {
                console.error('Fetch rates failed:', e);
                // é‡è¯•ä¸€æ¬¡å¤‡ç”¨API
                if (retry < 1) {
                    return fetchRates(retry + 1, forceRefresh);
                }
                // å°è¯•ä½¿ç”¨ç¼“å­˜ï¼ˆå³ä½¿è¿‡æœŸä¹Ÿç”¨ï¼‰
                const cached = localStorage.getItem('tipCalcRates');
                if (cached) {
                    const { rates, time } = JSON.parse(cached);
                    Object.assign(RATES, rates);
                    document.getElementById('rateCNY').value = rates.CNY?.toFixed(4) || '7.25';
                    document.getElementById('rateJPY').value = rates.JPY?.toFixed(2) || '155';
                    document.getElementById('rateKRW').value = rates.KRW?.toFixed(0) || '1380';
                    const cacheDate = new Date(time);
                    const cacheAge = Date.now() - time;
                    const expired = cacheAge >= CACHE_EXPIRE_MS ? ' (å·²è¿‡æœŸ)' : '';
                    timeEl.textContent = `ğŸ’± ${T[lang].rateUpdated} ${cacheDate.toLocaleDateString()}${expired}`;
                    calc();
                } else {
                    timeEl.textContent = `ğŸ’± ${T[lang].rateFailed}`;
                }
            } finally {
                btn.disabled = false;
                btn.classList.remove('loading');
            }
        }
        
        // è¿”å›é¡¶éƒ¨æŒ‰é’®
        function initBackToTop() {
            const btn = document.getElementById('backToTop');
            window.addEventListener('scroll', () => {
                btn.classList.toggle('show', window.scrollY > 300);
            });
        }
        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        
        // å…³äº/éšç§æ”¿ç­–å¼¹çª—
        function showAbout() {
            alert(`${T[lang].aboutTitle}\n\n${T[lang].aboutContent}`);
        }
        function showPrivacy() {
            alert(`${T[lang].privacyTitle}\n\n${T[lang].privacyContent}`);
        }
    </script>
</body>
</html>
